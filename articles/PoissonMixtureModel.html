<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="gsDesign">
<title>A cure model calendar-based design • gsDesign</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="A cure model calendar-based design">
<meta property="og:description" content="gsDesign">
<meta property="og:image" content="https://keaven.github.io/gsDesign/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">gsDesign</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.5.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/index.html">Articles</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/keaven/gsDesign/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>A cure model calendar-based design</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/keaven/gsDesign/blob/HEAD/vignettes/PoissonMixtureModel.Rmd" class="external-link"><code>vignettes/PoissonMixtureModel.Rmd</code></a></small>
      <div class="d-none name"><code>PoissonMixtureModel.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>We present a study design for a time-to-event outcome based on a cure
model (<span class="citation">Rodrigues et al. (2009)</span>). In this
case, it is assumed that tail behavior of the survival is of substantial
interest and there is no desire to stop and do a final analysis before
substantial follow-up through 4 years has been allowed to accrue. It is
assumed further if substantial events have not accrued in this time
period, then some sacrifice in power would not be unreasonable. Due to
this as well as substantial variability in event accrual caused by
feasible differences in event rates, we use a calendar-based design,
including calendar-based spending (<span class="citation">Lan and DeMets
(1989)</span>).</p>
<p>We discuss some of the potential advantages and disadvantages of the
cure model and calendar-based design cases where hazard rates for events
decrease substantially over time and the true underlying distributions
may meaningfully deviate from what is anticipated at the time of
design.</p>
</div>
<div class="section level2">
<h2 id="the-poisson-mixture-model">The Poisson mixture model<a class="anchor" aria-label="anchor" href="#the-poisson-mixture-model"></a>
</h2>
<p>The Poisson mixture model is a cure model that can be useful when the
failure rate in a population is expected to decline substantially over
time based on historical data. It also has the property that if control
group time-to-event follows a Poisson mixture distribution, then a
proportional hazards assumption for treatment effect will yield another
Poisson mixture distribution for the experimental group. The model is
flexible and easy to use in that the control distribution is specified
with two parameters in a transparent fashion: the cure rate and one
other survival rate at an arbitrarily specified time point.</p>
<div class="section level3">
<h3 id="scenario-assumptions">Scenario assumptions<a class="anchor" aria-label="anchor" href="#scenario-assumptions"></a>
</h3>
<p>We consider three scenarios to demonstrate how spending can impact
potential for trial success and fully understanding treatment group
differences. The following can be adjusted by the reader and the
vignette re-run.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Control group assumptions for three Poisson mixture cure models</span></span>
<span><span class="va">cure_rate</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.5</span>, <span class="fl">.35</span>, <span class="fl">.55</span><span class="op">)</span></span>
<span><span class="co"># Second time point for respective models</span></span>
<span><span class="va">t1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">24</span>, <span class="fl">24</span>, <span class="fl">24</span><span class="op">)</span></span>
<span><span class="co"># Survival rate at 2nd time point for respective models</span></span>
<span><span class="va">s1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.65</span>, <span class="fl">.5</span>, <span class="fl">.68</span><span class="op">)</span></span>
<span><span class="va">time_unit</span> <span class="op">&lt;-</span> <span class="st">"month"</span></span>
<span><span class="co"># Hazard ratio for experimental versus control for respective models</span></span>
<span><span class="va">hr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.7</span>, <span class="fl">.75</span>, <span class="fl">.7</span><span class="op">)</span></span>
<span><span class="co"># Total study duration</span></span>
<span><span class="va">study_duration</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">48</span>, <span class="fl">48</span>, <span class="fl">56</span><span class="op">)</span></span>
<span><span class="co"># Number of bins for piecewise approximation</span></span>
<span><span class="va">bins</span> <span class="op">&lt;-</span> <span class="fl">5</span></span></code></pre></div>
<p>We will assume a constant enrollment rate for the duration of
enrollment, allowing different assumed enrollment durations by scenario.
The following code can be easily changed to study alternate
scenarios.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># This code should be updated by user for their scenario</span></span>
<span><span class="co"># Enrollment duration by scenario</span></span>
<span><span class="va">enroll_duration</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12</span>, <span class="fl">12</span>, <span class="fl">20</span><span class="op">)</span></span>
<span><span class="co"># Dropout rate (exponential failure rate per time unit) by scenario</span></span>
<span><span class="va">dropout_rate</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.002</span>, <span class="fl">.001</span>, <span class="fl">.001</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="the-poisson-mixture-model-1">The Poisson Mixture Model<a class="anchor" aria-label="anchor" href="#the-poisson-mixture-model-1"></a>
</h3>
<p>The Poisson mixture model (<span class="citation">Rodrigues et al.
(2009)</span>) assumes a cure rate <span class="math inline">\(p\)</span> to represent the patients who benefit
long-term. The survival function as a function of time <span class="math inline">\(t\)</span> for a control group (<span class="math inline">\(c\)</span>) is:</p>
<p><span class="math display">\[S_c(t)=\exp(-\theta(1-\exp(-\lambda
t))),\]</span> where <span class="math inline">\(\theta =
-\log(p)\)</span>, <span class="math inline">\(\lambda&gt; 0\)</span> is
a constant hazard rate and <span class="math inline">\(t\ge 0\)</span>.
The component <span class="math inline">\(\exp(-\lambda t)\)</span> is
an exponential survival distribution; while it could be replaced with an
arbitrary survival distribution on <span class="math inline">\(t&gt;0\)</span> for the mixture model, the
exponential model is simple, adequately flexible and easy to explain.
This two-parameter model can be specified by the cure rate and the
assumed survival rate <span class="math inline">\(S_c(t_1)\)</span> at
some time <span class="math inline">\(0 &lt;t_1&lt;\infty.\)</span> For
this study, the control group cure rate is assumed to be 0.5, 0.35, 0.55
and the survival at month is assumed to be 0.65, 0.5, 0.68. We can solve
for <span class="math inline">\(\theta\)</span> and <span class="math inline">\(\lambda\)</span> as follows:</p>
<p><span class="math display">\[S_c(\infty) = e^\theta \Rightarrow
\theta = -\log(S_c(\infty)) \]</span> and with a little algebra, we can
solve for <span class="math inline">\(\lambda\)</span>: <span class="math display">\[S_c(t_1)= \exp(-\theta(1-\exp(-\lambda t_1)))
\Rightarrow \lambda =  -\log(1 + \log(S_c(t_1)) / \theta) /
t_1\]</span></p>
</div>
<div class="section level3">
<h3 id="supporting-functions">Supporting functions<a class="anchor" aria-label="anchor" href="#supporting-functions"></a>
</h3>
<p>We create the following functions to support examples below.</p>
<ul>
<li>
<code>pPM()</code> computes a Poisson mixture survival function</li>
<li>
<code>hPM()</code> computes Poisson mixture hazard rates</li>
</ul>
<p>Most readers should skip reviewing this code.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Poisson mixture survival</span></span>
<span><span class="va">pPM</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span> <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">20</span>, <span class="va">cure_rate</span> <span class="op">=</span> <span class="fl">.5</span>, <span class="va">t1</span> <span class="op">=</span> <span class="fl">10</span>, <span class="va">s1</span> <span class="op">=</span> <span class="fl">.6</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">theta</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">cure_rate</span><span class="op">)</span></span>
<span>  <span class="va">lambda</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">s1</span><span class="op">)</span> <span class="op">/</span> <span class="va">theta</span><span class="op">)</span> <span class="op">/</span> <span class="va">t1</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="op">-</span><span class="va">theta</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="op">-</span><span class="va">lambda</span> <span class="op">*</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co"># Poisson mixture hazard rate</span></span>
<span><span class="va">hPM</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span> <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">20</span>, <span class="va">cure_rate</span> <span class="op">=</span> <span class="fl">.5</span>, <span class="va">t1</span> <span class="op">=</span> <span class="fl">10</span>, <span class="va">s1</span> <span class="op">=</span> <span class="fl">.6</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">theta</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">cure_rate</span><span class="op">)</span></span>
<span>  <span class="va">lambda</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">s1</span><span class="op">)</span> <span class="op">/</span> <span class="va">theta</span><span class="op">)</span> <span class="op">/</span> <span class="va">t1</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">theta</span> <span class="op">*</span> <span class="va">lambda</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="op">-</span><span class="va">lambda</span> <span class="op">*</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h3>
<p>We note that under a proportional hazards assumption with hazard
ratio <span class="math inline">\(\gamma &gt; 0\)</span> the survival
funtion for the experimental group (e) is:</p>
<p><span class="math display">\[S_e(t)=\exp(-\theta\gamma(1-\exp(-\lambda
t))).\]</span> As noted before, <span class="math inline">\((1 -
\exp(-\lambda t)\)</span> can be replaced with the cumulative
distribution for any positive random variable. For any setting chosen,
it is ideal to be able to cite published literature and other rationale
for study assumptions.</p>
<p>The points in the following graph indicate where underlying
cumulative hazard matches the piecewise exponential of the specified
cure rate models by scenario. The piecewise failure model is used to
derive the sample size and targeted events over time in the trial.</p>
<p><img src="PoissonMixtureModel_files/figure-html/unnamed-chunk-6-1.png" width="80%" style="display: block; margin: auto;"></p>
<p>We also evaluate the failure rate over time, which is higher in
scenario 2. This is later used in the design derivation. Note that the
piecewise intervals used to approximate changing hazard rates can be
made arbitrarily small to get more precise approximations of the above.
However, given the uncertainty of the underlying assumptions, it is not
clear that this provides any advantage.</p>
<p><img src="PoissonMixtureModel_files/figure-html/unnamed-chunk-7-1.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="event-accumulation">Event Accumulation<a class="anchor" aria-label="anchor" href="#event-accumulation"></a>
</h3>
<p>Based on the above model, we predict how events will accumulate for
the control group, experimental group under the alternate hypothesis and
overall based on either the null hypothesis of no failure rate
difference or the alternate hypothesis where events accrue more slowly
in the experimental group. We do this by scenario. We use as a
denominator the final planned events under the alternate hypothesis for
scenario 1.</p>
<p>Now we compare event accrual under the null and alternate hypothesis
for each scenario, with 100% representing the targeted final events
under scenario 1. The user should not have to update the code here. For
the 3 scenarios studied, event accrual is quite different, creating
difference spending issues.</p>
<p><img src="PoissonMixtureModel_files/figure-html/unnamed-chunk-8-1.png" width="80%" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="study-design">Study design<a class="anchor" aria-label="anchor" href="#study-design"></a>
</h2>
<div class="section level3">
<h3 id="design-assumptions">Design assumptions<a class="anchor" aria-label="anchor" href="#design-assumptions"></a>
</h3>
<p>We choose calendar-based timing for analyses as well as for spending.
This is not done automatically by the <code><a href="../reference/nSurv.html">gsSurv()</a></code> function.
There are two steps in particular that we walk through here:</p>
<ul>
<li>How to get information fraction levels that correspond to targeted
calendar analysis times to plug in for the planned design.</li>
<li>Replacing information fraction levels with calendar fraction levels
for <span class="math inline">\(\alpha\)</span>- and <span class="math inline">\(\beta\)</span>-spending.</li>
</ul>
<p>We begin by specifying calendar times of analysis and find
corresponding fractions of final planned events and calendar time under
design assumptions.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">h1s1_EF</span> <span class="op">&lt;-</span> <span class="va">event_accrual</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Scenario</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">Hypothesis</span> <span class="op">==</span> <span class="st">"H1"</span> <span class="op">&amp;</span> <span class="va">Time</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12</span>, <span class="fl">24</span>, <span class="fl">36</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">Time</span>, <span class="va">EF</span><span class="op">)</span></span>
<span><span class="va">h1s1_EF</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 2</span></span></span>
<span><span class="co">#&gt;    Time    EF</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>    12 0.284</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>    24 0.683</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>    36 0.888</span></span>
<span><span class="co"># Interim analysis timing (information fraction)</span></span>
<span><span class="va">timing</span> <span class="op">&lt;-</span> <span class="va">h1s1_EF</span><span class="op">$</span><span class="va">EF</span></span>
<span><span class="va">timing_calendar</span> <span class="op">&lt;-</span> <span class="va">h1s1_EF</span><span class="op">$</span><span class="va">Time</span> <span class="op">/</span> <span class="va">study_duration</span></span></code></pre></div>
<p>Now we move on to other design assumptions.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get hazard rate info for Scenario 1 control group</span></span>
<span><span class="va">control</span> <span class="op">&lt;-</span> <span class="va">hazard</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Scenario</span> <span class="op">==</span> <span class="fl">1</span>, <span class="va">Treatment</span> <span class="op">==</span> <span class="st">"Control"</span><span class="op">)</span></span>
<span><span class="co"># Failure rates</span></span>
<span><span class="va">lambdaC</span> <span class="op">&lt;-</span> <span class="va">control</span><span class="op">$</span><span class="va">hazard_rate</span></span>
<span><span class="co"># Interval durations</span></span>
<span><span class="va">S</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">control</span><span class="op">$</span><span class="va">Time</span> <span class="op">-</span> <span class="va">control</span><span class="op">$</span><span class="va">time_lagged</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="op">(</span><span class="va">bins</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co"># 1-sided Type I error</span></span>
<span><span class="va">alpha</span> <span class="op">&lt;-</span> <span class="fl">0.025</span></span>
<span><span class="co"># Type II error (1 - power)</span></span>
<span><span class="va">beta</span> <span class="op">&lt;-</span> <span class="fl">.1</span></span>
<span><span class="co"># Test type 6: asymmetric 2-sided design, non-binding futility bound</span></span>
<span><span class="va">test.type</span> <span class="op">&lt;-</span> <span class="fl">6</span></span>
<span><span class="co"># 1-sided Type I error used for safety (for asymmetric 2-sided design)</span></span>
<span><span class="va">astar</span> <span class="op">&lt;-</span> <span class="fl">.2</span></span>
<span><span class="co"># Spending functions (sfu, sfl) and parameters (sfupar, sflpar)</span></span>
<span><span class="va">sfu</span> <span class="op">&lt;-</span> <span class="va">sfHSD</span> <span class="co"># O'Brien-Fleming approximation by Lan and DeMets</span></span>
<span><span class="va">sfupar</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">4</span> <span class="co"># Not needed for sfLDPocock</span></span>
<span><span class="va">sfl</span> <span class="op">&lt;-</span> <span class="va">sfLDPocock</span> <span class="co"># Near-equal Z-values for each analysis</span></span>
<span><span class="va">sflpar</span> <span class="op">&lt;-</span> <span class="cn">NULL</span> <span class="co"># Not needed for Pocock spending</span></span>
<span><span class="co"># Dropout rate (exponential parameter per unit of time)</span></span>
<span><span class="va">dropout_rate</span> <span class="op">&lt;-</span> <span class="fl">0.002</span></span>
<span><span class="co"># Experimental / control randomization ratio</span></span>
<span><span class="va">ratio</span> <span class="op">&lt;-</span> <span class="fl">1</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="study-design-and-event-accumulation">Study Design and Event Accumulation<a class="anchor" aria-label="anchor" href="#study-design-and-event-accumulation"></a>
</h3>
<p>We now assume a trial is enrolled with a constant enrollment rate
over 12, 12, 20 months trial duration of 48, 48, 56. As noted above, the
event accumulation pattern is highly sensitive to the assumptions of the
design. Deviations from plan in accrual, the hazard ratio overall or
over time as well as relatively minor deviations from the cure model
assumption could substantially change the calendar time of event-based
analysis timing. Thus, calendar-based timing and spending (<span class="citation">Lan and DeMets (1989)</span>) may have some appeal to
make the timing of analyses more predictable. The main risk to this
would likely be under-accumulation of the final targeted events for the
trial. The targeted 4-year window may be considered clinically important
as well as an important limitation for trial duration. Using the above
predicted information fractions at 6, 12, 24, 36, 48, and 60 months to
plan a calendar-based design. We use the arguments <code>usTime</code>
and <code>lsTime</code> to change to calendar-based spending for the
upper and lower bounds, respectively. However, the pattern of slowing
event accumulation over time after year 1 seems reasonably likely to
persist. This means that calendar-based spending is likely to give more
conservative bounds since the calendar fractions are lower than the
information fractions in the text overlay of the plot after the first
interim: 10%, 20%, 40%, 60%, 80% and 100%, respectively.</p>
<p>We now use the information fractions from the text overlay to set up
a calendar-based design.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">design_calendar</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/nSurv.html">gsSurv</a></span><span class="op">(</span></span>
<span>    k <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">timing</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span>,</span>
<span>    alpha <span class="op">=</span> <span class="va">alpha</span>,</span>
<span>    beta <span class="op">=</span> <span class="va">beta</span>,</span>
<span>    astar <span class="op">=</span> <span class="va">astar</span>,</span>
<span>    test.type <span class="op">=</span> <span class="va">test.type</span>,</span>
<span>    timing <span class="op">=</span> <span class="va">timing</span>, <span class="co"># Planned event fractions here</span></span>
<span>    hr <span class="op">=</span> <span class="va">hr</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>    R <span class="op">=</span> <span class="va">enroll_duration</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>    gamma <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    T <span class="op">=</span> <span class="va">study_duration</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>    minfup <span class="op">=</span> <span class="va">study_duration</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">-</span> <span class="va">enroll_duration</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>    ratio <span class="op">=</span> <span class="va">ratio</span>,</span>
<span>    sfu <span class="op">=</span> <span class="va">sfu</span>,</span>
<span>    sfupar <span class="op">=</span> <span class="va">sfupar</span>,</span>
<span>    usTime <span class="op">=</span> <span class="va">timing_calendar</span>, <span class="co"># Use calendar-based spending</span></span>
<span>    sfl <span class="op">=</span> <span class="va">sfl</span>,</span>
<span>    sflpar <span class="op">=</span> <span class="va">sflpar</span>,</span>
<span>    lambdaC <span class="op">=</span> <span class="va">lambdaC</span>,</span>
<span>    lsTime <span class="op">=</span> <span class="va">timing_calendar</span>, <span class="co"># Use calendar-based spending</span></span>
<span>    S <span class="op">=</span> <span class="va">S</span></span>
<span>  <span class="op">)</span></span>
<span><span class="va">design_calendar</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/gsBoundSummary.html">gsBoundSummary</a></span><span class="op">(</span>exclude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"B-value"</span>, <span class="st">"CP"</span>, <span class="st">"CP H1"</span>, <span class="st">"PP"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">gt</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">tab_header</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Calendar-Based Design"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"Calendar Spending"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div id="afgvovyiaq" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#afgvovyiaq table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#afgvovyiaq thead, #afgvovyiaq tbody, #afgvovyiaq tfoot, #afgvovyiaq tr, #afgvovyiaq td, #afgvovyiaq th {
  border-style: none;
}

#afgvovyiaq p {
  margin: 0;
  padding: 0;
}

#afgvovyiaq .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#afgvovyiaq .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#afgvovyiaq .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#afgvovyiaq .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#afgvovyiaq .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#afgvovyiaq .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#afgvovyiaq .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#afgvovyiaq .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#afgvovyiaq .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#afgvovyiaq .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#afgvovyiaq .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#afgvovyiaq .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#afgvovyiaq .gt_spanner_row {
  border-bottom-style: hidden;
}

#afgvovyiaq .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#afgvovyiaq .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#afgvovyiaq .gt_from_md > :first-child {
  margin-top: 0;
}

#afgvovyiaq .gt_from_md > :last-child {
  margin-bottom: 0;
}

#afgvovyiaq .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#afgvovyiaq .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#afgvovyiaq .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#afgvovyiaq .gt_row_group_first td {
  border-top-width: 2px;
}

#afgvovyiaq .gt_row_group_first th {
  border-top-width: 2px;
}

#afgvovyiaq .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#afgvovyiaq .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#afgvovyiaq .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#afgvovyiaq .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#afgvovyiaq .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#afgvovyiaq .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#afgvovyiaq .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#afgvovyiaq .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#afgvovyiaq .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#afgvovyiaq .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#afgvovyiaq .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#afgvovyiaq .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#afgvovyiaq .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#afgvovyiaq .gt_left {
  text-align: left;
}

#afgvovyiaq .gt_center {
  text-align: center;
}

#afgvovyiaq .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#afgvovyiaq .gt_font_normal {
  font-weight: normal;
}

#afgvovyiaq .gt_font_bold {
  font-weight: bold;
}

#afgvovyiaq .gt_font_italic {
  font-style: italic;
}

#afgvovyiaq .gt_super {
  font-size: 65%;
}

#afgvovyiaq .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#afgvovyiaq .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#afgvovyiaq .gt_indent_1 {
  text-indent: 5px;
}

#afgvovyiaq .gt_indent_2 {
  text-indent: 10px;
}

#afgvovyiaq .gt_indent_3 {
  text-indent: 15px;
}

#afgvovyiaq .gt_indent_4 {
  text-indent: 20px;
}

#afgvovyiaq .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading">
<td colspan="4" class="gt_heading gt_title gt_font_normal" style>Calendar-Based Design</td>
    </tr>
<tr class="gt_heading">
<td colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Calendar Spending</td>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Analysis">Analysis</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Value">Value</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Efficacy">Efficacy</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Futility">Futility</th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr>
<td headers="Analysis" class="gt_row gt_left">IA 1: 28%</td>
<td headers="Value" class="gt_row gt_left">Z</td>
<td headers="Efficacy" class="gt_row gt_right">3.1554</td>
<td headers="Futility" class="gt_row gt_right">-1.4649</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left">N: 884</td>
<td headers="Value" class="gt_row gt_left">p (1-sided)</td>
<td headers="Efficacy" class="gt_row gt_right">0.0008</td>
<td headers="Futility" class="gt_row gt_right">0.9285</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left">Events: 95</td>
<td headers="Value" class="gt_row gt_left">~HR at bound</td>
<td headers="Efficacy" class="gt_row gt_right">0.5228</td>
<td headers="Futility" class="gt_row gt_right">1.3513</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left">Month: 12</td>
<td headers="Value" class="gt_row gt_left">Spending</td>
<td headers="Efficacy" class="gt_row gt_right">0.0008</td>
<td headers="Futility" class="gt_row gt_right">0.0715</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left"></td>
<td headers="Value" class="gt_row gt_left">P(Cross) if HR=1</td>
<td headers="Efficacy" class="gt_row gt_right">0.0008</td>
<td headers="Futility" class="gt_row gt_right">0.0715</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left"></td>
<td headers="Value" class="gt_row gt_left">P(Cross) if HR=0.7</td>
<td headers="Efficacy" class="gt_row gt_right">0.0773</td>
<td headers="Futility" class="gt_row gt_right">0.0007</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left">IA 2: 68%</td>
<td headers="Value" class="gt_row gt_left">Z</td>
<td headers="Efficacy" class="gt_row gt_right">2.8268</td>
<td headers="Futility" class="gt_row gt_right">-1.3883</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left">N: 884</td>
<td headers="Value" class="gt_row gt_left">p (1-sided)</td>
<td headers="Efficacy" class="gt_row gt_right">0.0024</td>
<td headers="Futility" class="gt_row gt_right">0.9175</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left">Events: 229</td>
<td headers="Value" class="gt_row gt_left">~HR at bound</td>
<td headers="Efficacy" class="gt_row gt_right">0.6877</td>
<td headers="Futility" class="gt_row gt_right">1.2019</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left">Month: 24</td>
<td headers="Value" class="gt_row gt_left">Spending</td>
<td headers="Efficacy" class="gt_row gt_right">0.0022</td>
<td headers="Futility" class="gt_row gt_right">0.0525</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left"></td>
<td headers="Value" class="gt_row gt_left">P(Cross) if HR=1</td>
<td headers="Efficacy" class="gt_row gt_right">0.0030</td>
<td headers="Futility" class="gt_row gt_right">0.1240</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left"></td>
<td headers="Value" class="gt_row gt_left">P(Cross) if HR=0.7</td>
<td headers="Efficacy" class="gt_row gt_right">0.4516</td>
<td headers="Futility" class="gt_row gt_right">0.0007</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left">IA 3: 89%</td>
<td headers="Value" class="gt_row gt_left">Z</td>
<td headers="Efficacy" class="gt_row gt_right">2.6510</td>
<td headers="Futility" class="gt_row gt_right">-1.3943</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left">N: 884</td>
<td headers="Value" class="gt_row gt_left">p (1-sided)</td>
<td headers="Efficacy" class="gt_row gt_right">0.0040</td>
<td headers="Futility" class="gt_row gt_right">0.9184</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left">Events: 297</td>
<td headers="Value" class="gt_row gt_left">~HR at bound</td>
<td headers="Efficacy" class="gt_row gt_right">0.7350</td>
<td headers="Futility" class="gt_row gt_right">1.1758</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left">Month: 36</td>
<td headers="Value" class="gt_row gt_left">Spending</td>
<td headers="Efficacy" class="gt_row gt_right">0.0027</td>
<td headers="Futility" class="gt_row gt_right">0.0248</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left"></td>
<td headers="Value" class="gt_row gt_left">P(Cross) if HR=1</td>
<td headers="Efficacy" class="gt_row gt_right">0.0056</td>
<td headers="Futility" class="gt_row gt_right">0.1488</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left"></td>
<td headers="Value" class="gt_row gt_left">P(Cross) if HR=0.7</td>
<td headers="Efficacy" class="gt_row gt_right">0.6761</td>
<td headers="Futility" class="gt_row gt_right">0.0007</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left">Final</td>
<td headers="Value" class="gt_row gt_left">Z</td>
<td headers="Efficacy" class="gt_row gt_right">1.9749</td>
<td headers="Futility" class="gt_row gt_right">-1.0483</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left">N: 884</td>
<td headers="Value" class="gt_row gt_left">p (1-sided)</td>
<td headers="Efficacy" class="gt_row gt_right">0.0241</td>
<td headers="Futility" class="gt_row gt_right">0.8527</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left">Events: 334</td>
<td headers="Value" class="gt_row gt_left">~HR at bound</td>
<td headers="Efficacy" class="gt_row gt_right">0.8056</td>
<td headers="Futility" class="gt_row gt_right">1.1216</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left">Month: 48</td>
<td headers="Value" class="gt_row gt_left">Spending</td>
<td headers="Efficacy" class="gt_row gt_right">0.0194</td>
<td headers="Futility" class="gt_row gt_right">0.0512</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left"></td>
<td headers="Value" class="gt_row gt_left">P(Cross) if HR=1</td>
<td headers="Efficacy" class="gt_row gt_right">0.0250</td>
<td headers="Futility" class="gt_row gt_right">0.2000</td>
</tr>
<tr>
<td headers="Analysis" class="gt_row gt_left"></td>
<td headers="Value" class="gt_row gt_left">P(Cross) if HR=0.7</td>
<td headers="Efficacy" class="gt_row gt_right">0.9000</td>
<td headers="Futility" class="gt_row gt_right">0.0007</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section level2">
<h2 id="considerations">Considerations<a class="anchor" aria-label="anchor" href="#considerations"></a>
</h2>
<p>There are a few things to note for the above design:</p>
<ul>
<li>The futility bounds are advisory only. In particular, the late
futility bounds may be ignored since the follow-up for the full time
period may merit continuing the trial.</li>
<li>Substantial deviations in event accumulation would not change timing
of analyses from their calendar times. This should be considered for
acceptability at the time of design.</li>
<li>The first efficacy bound is so extreme that it essentially makes the
first analysis futility only. This is likely reasonable based on the
minimal follow-up at that time.</li>
<li>The Z-values and hazard ratios required for a positive efficacy
finding are not terribly extreme starting from the two-year follow-up
analysis. This is also probably reasonable as long as the hazard ratio
differences at the bounds are clinically meaningful. A more extreme
finding at year 1 may likely be required for a positive finding.</li>
<li>The trial may be continued after crossing an efficacy bound for
further follow-up as it is unlikely that control patients doing well
would cross over to experimental therapy in absence of adverse clinical
outcomes. Inference at subsequent analyses using repeated p-values
(<span class="citation">Jennison and Turnbull (2000)</span>) or
sequential p-values (<span class="citation">Liu and Anderson
(2008)</span>) are well-specified and interpretable as adjusted
p-values.</li>
</ul>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-JTBook" class="csl-entry">
Jennison, Christopher, and Bruce W. Turnbull. 2000. <em>Group Sequential
Methods with Applications to Clinical Trials</em>. Boca Raton, FL:
Chapman; Hall/CRC.
</div>
<div id="ref-LanDeMets1989" class="csl-entry">
Lan, K. K. G., and David L. DeMets. 1989. <span>“Group Sequential
Procedures: Calendar Versus Information Time.”</span> <em>Statistics in
Medicine</em> 8: 1191–98.
</div>
<div id="ref-LiuAnderson2008" class="csl-entry">
Liu, Qing, and Keaven M Anderson. 2008. <span>“On Adaptive Extensions of
Group Sequential Trials for Clinical Investigations.”</span> <em>Journal
of the American Statistical Association</em> 103 (484): 1621–30.
</div>
<div id="ref-PoissonMixture2009" class="csl-entry">
Rodrigues, Josemar, Vicente G Cancho, Mário de Castro, and Francisco
Louzada-Neto. 2009. <span>“On the Unification of Long-Term Survival
Models.”</span> <em>Statistics &amp; Probability Letters</em> 79 (6):
753–59.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Keaven Anderson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
