<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="gsDesign">
<title>Binomial SPRT • gsDesign</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Binomial SPRT">
<meta property="og:description" content="gsDesign">
<meta property="og:image" content="https://keaven.github.io/gsDesign/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">gsDesign</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.5.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/index.html">Articles</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/keaven/gsDesign/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Binomial SPRT</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/keaven/gsDesign/blob/HEAD/vignettes/binomialSPRTExample.Rmd" class="external-link"><code>vignettes/binomialSPRTExample.Rmd</code></a></small>
      <div class="d-none name"><code>binomialSPRTExample.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The sequential probability ratio test (SPRT) was proposed by <span class="citation">Wald (1947)</span>, <span class="citation">Wald and
Wolfowitz (1948)</span>. as a way to do continuous sampling to establish
or raise concerns about product quality. There is a wide literature on
this topic which we do not attempt to summarize here. In clinical
trials, the SPRT for a single arm binary endpoint can be useful to raise
or alleviate concerns about a short-term endpoint such as occurrence of
an important safety endpoint or, for efficacy, a response rate. The
function <code><a href="../reference/gsBinomialExact.html">binomialSPRT()</a></code> implements a single arm version of
the SPRT for a binary outcome. While comparative SPRT tests are also
available for comparing multiple arms, we do not cover those here.</p>
<p>You may think that having an sequential design for a trial obligates
you to do an evaluation after every observation. An alternative view is
that you can analyze whenever you want and not worry about whether Type
I error is controlled.</p>
</div>
<div class="section level2">
<h2 id="response-rate-example">Response rate example<a class="anchor" aria-label="anchor" href="#response-rate-example"></a>
</h2>
<p>Consider a single arm where there is historical data suggesting the a
positive response to treatment occurs in no more than 10% of patients
with currently available treatments. Assume that there is interest in
having the trial be well-powered to detect a response rate of 35% in a
new treatment. The SPRT is defined as a continuous testing procedure
without a maximum sample size. Practically speaking, this is implemented
with a minimum and maximum sample size. For our example we assume a
minimum sample size of 10 and a maximum sample size of 25. We will
initially set a one-sided Type I error of <span class="math inline">\(\alpha=0.08\)</span> and power of 80% (<span class="math inline">\(1-\beta = 0.2\)</span>):</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://keaven.github.io/gsDesign/">gsDesign</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gsBinomialExact.html">binomialSPRT</a></span><span class="op">(</span>p0 <span class="op">=</span> <span class="fl">.1</span>, p1 <span class="op">=</span> <span class="fl">.35</span>, alpha <span class="op">=</span> <span class="fl">.08</span>, beta <span class="op">=</span> <span class="fl">.2</span>, minn <span class="op">=</span> <span class="fl">10</span>, maxn <span class="op">=</span> <span class="fl">25</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">b</span><span class="op">)</span></span></code></pre></div>
<p><img src="binomialSPRTExample_files/figure-html/unnamed-chunk-3-1.png" width="80%" style="display: block; margin: auto;"></p>
<p>The above plot tests first after 10 patients. If 4/10 have responded,
you can reject the null hypothesis of a 10% response rate. If 0 or 1 of
10 have responded, you can conclude that the targeted 35% response rate
is not realistic. Note that the number of responses required to cross a
bound is a step function due to the discrete nature of the problem. We
see at the maximum sample size of 25:</p>
<ul>
<li>If 4 or fewer patients have responded we will accept the null
hypothesis of a 10% event rate.</li>
<li>If 7 or more patients have responded we will reject the null
hypothesis in favor of a larger response rate.</li>
<li>If 5 or 6 patients respond we have an indeterminate result where we
can reject neither the null hypothesis of a 10% response rate nor the
alternate hypothesis of a 35% response rate.</li>
</ul>
</div>
<div class="section level2">
<h2 id="summarizing-design-properties">Summarizing design properties<a class="anchor" aria-label="anchor" href="#summarizing-design-properties"></a>
</h2>
<p>Functions are available to summarize design properties. For example,
we can make a power plot:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">b</span>, plottype <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">p</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">90</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="binomialSPRTExample_files/figure-html/unnamed-chunk-5-1.png" width="80%" style="display: block; margin: auto;"></p>
<p>Probability of three possible outcomes are summarized by the
underlying response rate:</p>
<ul>
<li>Solid line: indeterminate outcome (no bound crossed from 10 to 25
patients). Note that probabilities are small, even for response rates
half-way between the null and alternative hypotheses.</li>
<li>Short-dashed line: reject H0. While we targeted a 10% Type I error
rate, we can see here that since we have truncated the design to analyze
only after 10 to 25 patient that the Type I error is less 5%; this is
below the targeted 1-sided <span class="math inline">\(\alpha=0.08.\)</span>
</li>
<li>Long-dashed line: Reject H1. We can see that we have &gt; 90% chance
of rejecting a 35% response rate if the true response rate is 10%.</li>
</ul>
<p>We now provide a summary table for operating characteristics. The
user can ignore reviewing the code, but may copy if wishing to produce a
similar table.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compute boundary crossing probabilities for selected response rates</span></span>
<span><span class="va">b_power</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gsBinomialExact.html">gsBinomialExact</a></span><span class="op">(</span></span>
<span>  k <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">b</span><span class="op">$</span><span class="va">n.I</span><span class="op">)</span>, theta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">.1</span>, <span class="fl">.45</span>, <span class="fl">.05</span><span class="op">)</span>, n.I <span class="op">=</span> <span class="va">b</span><span class="op">$</span><span class="va">n.I</span>,</span>
<span>  a <span class="op">=</span> <span class="va">b</span><span class="op">$</span><span class="va">lower</span><span class="op">$</span><span class="va">bound</span>, b <span class="op">=</span> <span class="va">b</span><span class="op">$</span><span class="va">upper</span><span class="op">$</span><span class="va">bound</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">b_power</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/as_table.html">as_table</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/as_gt.html">as_gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="xxhxujibyr" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#xxhxujibyr table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#xxhxujibyr thead, #xxhxujibyr tbody, #xxhxujibyr tfoot, #xxhxujibyr tr, #xxhxujibyr td, #xxhxujibyr th {
  border-style: none;
}

#xxhxujibyr p {
  margin: 0;
  padding: 0;
}

#xxhxujibyr .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#xxhxujibyr .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#xxhxujibyr .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#xxhxujibyr .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#xxhxujibyr .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xxhxujibyr .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xxhxujibyr .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xxhxujibyr .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#xxhxujibyr .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#xxhxujibyr .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#xxhxujibyr .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#xxhxujibyr .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#xxhxujibyr .gt_spanner_row {
  border-bottom-style: hidden;
}

#xxhxujibyr .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#xxhxujibyr .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#xxhxujibyr .gt_from_md > :first-child {
  margin-top: 0;
}

#xxhxujibyr .gt_from_md > :last-child {
  margin-bottom: 0;
}

#xxhxujibyr .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#xxhxujibyr .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#xxhxujibyr .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#xxhxujibyr .gt_row_group_first td {
  border-top-width: 2px;
}

#xxhxujibyr .gt_row_group_first th {
  border-top-width: 2px;
}

#xxhxujibyr .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xxhxujibyr .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#xxhxujibyr .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#xxhxujibyr .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xxhxujibyr .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xxhxujibyr .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#xxhxujibyr .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#xxhxujibyr .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#xxhxujibyr .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xxhxujibyr .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xxhxujibyr .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xxhxujibyr .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xxhxujibyr .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xxhxujibyr .gt_left {
  text-align: left;
}

#xxhxujibyr .gt_center {
  text-align: center;
}

#xxhxujibyr .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#xxhxujibyr .gt_font_normal {
  font-weight: normal;
}

#xxhxujibyr .gt_font_bold {
  font-weight: bold;
}

#xxhxujibyr .gt_font_italic {
  font-style: italic;
}

#xxhxujibyr .gt_super {
  font-size: 65%;
}

#xxhxujibyr .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#xxhxujibyr .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#xxhxujibyr .gt_indent_1 {
  text-indent: 5px;
}

#xxhxujibyr .gt_indent_2 {
  text-indent: 10px;
}

#xxhxujibyr .gt_indent_3 {
  text-indent: 15px;
}

#xxhxujibyr .gt_indent_4 {
  text-indent: 20px;
}

#xxhxujibyr .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading">
<td colspan="4" class="gt_heading gt_title gt_font_normal" style>Operating Characteristics for the Truncated SPRT Design</td>
    </tr>
<tr class="gt_heading">
<td colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Assumes trial evaluated sequentially after each response</td>
    </tr>
<tr class="gt_col_headings gt_spanner_row">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="2" colspan="1" scope="col" id="Underlying&lt;br&gt;response rate">Underlying<br>response rate</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="Probability of crossing">
        <span class="gt_column_spanner">Probability of crossing</span>
      </th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="2" colspan="1" scope="col" id="Average&lt;br&gt;sample size">Average<br>sample size</th>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Futility bound">Futility bound</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Efficacy bound">Efficacy bound</th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr>
<td headers="theta" class="gt_row gt_right">10%</td>
<td headers="Lower" class="gt_row gt_right">0.94</td>
<td headers="Upper" class="gt_row gt_right">0.04</td>
<td headers="en" class="gt_row gt_right">12.1</td>
</tr>
<tr>
<td headers="theta" class="gt_row gt_right">15%</td>
<td headers="Lower" class="gt_row gt_right">0.78</td>
<td headers="Upper" class="gt_row gt_right">0.15</td>
<td headers="en" class="gt_row gt_right">13.6</td>
</tr>
<tr>
<td headers="theta" class="gt_row gt_right">20%</td>
<td headers="Lower" class="gt_row gt_right">0.57</td>
<td headers="Upper" class="gt_row gt_right">0.32</td>
<td headers="en" class="gt_row gt_right">14.3</td>
</tr>
<tr>
<td headers="theta" class="gt_row gt_right">25%</td>
<td headers="Lower" class="gt_row gt_right">0.37</td>
<td headers="Upper" class="gt_row gt_right">0.53</td>
<td headers="en" class="gt_row gt_right">14.2</td>
</tr>
<tr>
<td headers="theta" class="gt_row gt_right">30%</td>
<td headers="Lower" class="gt_row gt_right">0.22</td>
<td headers="Upper" class="gt_row gt_right">0.71</td>
<td headers="en" class="gt_row gt_right">13.4</td>
</tr>
<tr>
<td headers="theta" class="gt_row gt_right">35%</td>
<td headers="Lower" class="gt_row gt_right">0.12</td>
<td headers="Upper" class="gt_row gt_right">0.84</td>
<td headers="en" class="gt_row gt_right">12.5</td>
</tr>
<tr>
<td headers="theta" class="gt_row gt_right">40%</td>
<td headers="Lower" class="gt_row gt_right">0.06</td>
<td headers="Upper" class="gt_row gt_right">0.92</td>
<td headers="en" class="gt_row gt_right">11.6</td>
</tr>
<tr>
<td headers="theta" class="gt_row gt_right">45%</td>
<td headers="Lower" class="gt_row gt_right">0.03</td>
<td headers="Upper" class="gt_row gt_right">0.97</td>
<td headers="en" class="gt_row gt_right">11.0</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="safety-monitoring-example">Safety monitoring example<a class="anchor" aria-label="anchor" href="#safety-monitoring-example"></a>
</h2>
<p>Next we consider a safety monitoring example. Suppose a new treatment
has a mechanism of action that has potential for an elevated rate of a
specific adverse experience (AE); e.g., serious rash. Suppose that this
already occurs with some low frequency in the population proposed for a
study at a rate of about 4% and that a 10% rate would be considered
unacceptable. While a comparison of the two arms could be considered
with an SPRT, we demonstrate here a monitoring bound for the
experimental arm only. We assume the proposed sample size for the study
is 75 per arm and that we will not stop the trial for serious rash
before 4 patients have been studied in the experimental group.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safety_design</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gsBinomialExact.html">binomialSPRT</a></span><span class="op">(</span>p0 <span class="op">=</span> <span class="fl">.04</span>, p1 <span class="op">=</span> <span class="fl">.1</span>, alpha <span class="op">=</span> <span class="fl">.04</span>, beta <span class="op">=</span> <span class="fl">.2</span>, minn <span class="op">=</span> <span class="fl">4</span>, maxn <span class="op">=</span> <span class="fl">75</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">safety_design</span><span class="op">)</span></span></code></pre></div>
<p><img src="binomialSPRTExample_files/figure-html/unnamed-chunk-9-1.png" width="80%" style="display: block; margin: auto;"></p>
<p>We see above that if we have no serious rashes in the first 25
experimental group patients or 1 in the first 40 that we reject the 10%
rate of concern. On the other hand, if the first 4 of the first 4 to 14
patients have serious rashes or 5 of the first 15 to 29 patients have
serious rashes we can reject the hypothesis that there is no elevation
over the presumed 4% population rate.</p>
<p>The design operating characteristics are now summarized both in a
plot and a table.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">safety_design</span>, plottype <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="binomialSPRTExample_files/figure-html/unnamed-chunk-10-1.png" width="80%" style="display: block; margin: auto;"></p>
<p>We see that there can be a fairly high possibility of an
indeterminate outcome at the end of the trial. If we include more
extreme values in the summary table, we can see that the indeterminate
probability lowers outside the range of 0.04 to 0.10. The average sample
size also goes down; however, this does not account for enrollment that
may occur but not be included in the analysis due to inadequate
follow-up to assess the endpoint. Note that sequential patients should
be analyzed, but if you cross a high rate bound with some incomplete
data included as <em>safe</em> that you can still declare that you
crossed the high rate bound as the number of adverse experience cases
cannot go down when the missing cases filled in.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safety_power</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gsBinomialExact.html">gsBinomialExact</a></span><span class="op">(</span></span>
<span>  k <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">safety_design</span><span class="op">$</span><span class="va">n.I</span><span class="op">)</span>,</span>
<span>  theta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">.02</span>, <span class="fl">.16</span>, <span class="fl">.02</span><span class="op">)</span>,</span>
<span>  n.I <span class="op">=</span> <span class="va">safety_design</span><span class="op">$</span><span class="va">n.I</span>,</span>
<span>  a <span class="op">=</span> <span class="va">safety_design</span><span class="op">$</span><span class="va">lower</span><span class="op">$</span><span class="va">bound</span>,</span>
<span>  b <span class="op">=</span> <span class="va">safety_design</span><span class="op">$</span><span class="va">upper</span><span class="op">$</span><span class="va">bound</span></span>
<span><span class="op">)</span></span>
<span><span class="va">safety_power</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/as_table.html">as_table</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/as_gt.html">as_gt</a></span><span class="op">(</span></span>
<span>    theta_label <span class="op">=</span> <span class="fu">gt</span><span class="fu">::</span><span class="fu"><a href="https://gt.rstudio.com/reference/html.html" class="external-link">html</a></span><span class="op">(</span><span class="st">"Underlying&lt;br&gt;AE rate"</span><span class="op">)</span>,</span>
<span>    prob_decimals <span class="op">=</span> <span class="fl">3</span>,</span>
<span>    bound_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"low rate"</span>, <span class="st">"high rate"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div id="iuwabchezn" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#iuwabchezn table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#iuwabchezn thead, #iuwabchezn tbody, #iuwabchezn tfoot, #iuwabchezn tr, #iuwabchezn td, #iuwabchezn th {
  border-style: none;
}

#iuwabchezn p {
  margin: 0;
  padding: 0;
}

#iuwabchezn .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#iuwabchezn .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#iuwabchezn .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#iuwabchezn .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#iuwabchezn .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#iuwabchezn .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#iuwabchezn .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#iuwabchezn .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#iuwabchezn .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#iuwabchezn .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#iuwabchezn .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#iuwabchezn .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#iuwabchezn .gt_spanner_row {
  border-bottom-style: hidden;
}

#iuwabchezn .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#iuwabchezn .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#iuwabchezn .gt_from_md > :first-child {
  margin-top: 0;
}

#iuwabchezn .gt_from_md > :last-child {
  margin-bottom: 0;
}

#iuwabchezn .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#iuwabchezn .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#iuwabchezn .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#iuwabchezn .gt_row_group_first td {
  border-top-width: 2px;
}

#iuwabchezn .gt_row_group_first th {
  border-top-width: 2px;
}

#iuwabchezn .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#iuwabchezn .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#iuwabchezn .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#iuwabchezn .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#iuwabchezn .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#iuwabchezn .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#iuwabchezn .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#iuwabchezn .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#iuwabchezn .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#iuwabchezn .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#iuwabchezn .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#iuwabchezn .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#iuwabchezn .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#iuwabchezn .gt_left {
  text-align: left;
}

#iuwabchezn .gt_center {
  text-align: center;
}

#iuwabchezn .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#iuwabchezn .gt_font_normal {
  font-weight: normal;
}

#iuwabchezn .gt_font_bold {
  font-weight: bold;
}

#iuwabchezn .gt_font_italic {
  font-style: italic;
}

#iuwabchezn .gt_super {
  font-size: 65%;
}

#iuwabchezn .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#iuwabchezn .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#iuwabchezn .gt_indent_1 {
  text-indent: 5px;
}

#iuwabchezn .gt_indent_2 {
  text-indent: 10px;
}

#iuwabchezn .gt_indent_3 {
  text-indent: 15px;
}

#iuwabchezn .gt_indent_4 {
  text-indent: 20px;
}

#iuwabchezn .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading">
<td colspan="4" class="gt_heading gt_title gt_font_normal" style>Operating Characteristics for the Truncated SPRT Design</td>
    </tr>
<tr class="gt_heading">
<td colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Assumes trial evaluated sequentially after each response</td>
    </tr>
<tr class="gt_col_headings gt_spanner_row">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="2" colspan="1" scope="col" id="Underlying&lt;br&gt;AE rate">Underlying<br>AE rate</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="Probability of crossing">
        <span class="gt_column_spanner">Probability of crossing</span>
      </th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="2" colspan="1" scope="col" id="Average&lt;br&gt;sample size">Average<br>sample size</th>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="low rate">low rate</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="high rate">high rate</th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr>
<td headers="theta" class="gt_row gt_right">2%</td>
<td headers="Lower" class="gt_row gt_right">0.964</td>
<td headers="Upper" class="gt_row gt_right">0.001</td>
<td headers="en" class="gt_row gt_right">34.8</td>
</tr>
<tr>
<td headers="theta" class="gt_row gt_right">4%</td>
<td headers="Lower" class="gt_row gt_right">0.769</td>
<td headers="Upper" class="gt_row gt_right">0.019</td>
<td headers="en" class="gt_row gt_right">46.4</td>
</tr>
<tr>
<td headers="theta" class="gt_row gt_right">6%</td>
<td headers="Lower" class="gt_row gt_right">0.506</td>
<td headers="Upper" class="gt_row gt_right">0.108</td>
<td headers="en" class="gt_row gt_right">54.3</td>
</tr>
<tr>
<td headers="theta" class="gt_row gt_right">8%</td>
<td headers="Lower" class="gt_row gt_right">0.291</td>
<td headers="Upper" class="gt_row gt_right">0.290</td>
<td headers="en" class="gt_row gt_right">56.1</td>
</tr>
<tr>
<td headers="theta" class="gt_row gt_right">10%</td>
<td headers="Lower" class="gt_row gt_right">0.155</td>
<td headers="Upper" class="gt_row gt_right">0.516</td>
<td headers="en" class="gt_row gt_right">52.8</td>
</tr>
<tr>
<td headers="theta" class="gt_row gt_right">12%</td>
<td headers="Lower" class="gt_row gt_right">0.079</td>
<td headers="Upper" class="gt_row gt_right">0.714</td>
<td headers="en" class="gt_row gt_right">46.8</td>
</tr>
<tr>
<td headers="theta" class="gt_row gt_right">14%</td>
<td headers="Lower" class="gt_row gt_right">0.039</td>
<td headers="Upper" class="gt_row gt_right">0.851</td>
<td headers="en" class="gt_row gt_right">40.2</td>
</tr>
<tr>
<td headers="theta" class="gt_row gt_right">16%</td>
<td headers="Lower" class="gt_row gt_right">0.020</td>
<td headers="Upper" class="gt_row gt_right">0.930</td>
<td headers="en" class="gt_row gt_right">34.2</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<p>We have shown how to:</p>
<ul>
<li>derive bounds for a truncated sequential probability ratio test
(SPRT),</li>
<li>plot the bounds for the design,</li>
<li>plot the operating characteristics for the design, and</li>
<li>print a table summarizing the design.</li>
</ul>
<p>We noted that the observed power and Type I error is lower than the
specified Type I error and power can be higher. This means the user
needs to consider inputs on an iterative basis to control operating
characteristics of the truncated SPRT.</p>
<p>This design can be use for both responses and failures. For instance,
it can provide a method of early monitoring for excessive risk of key
adverse events in a study.</p>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-wald1947sequential" class="csl-entry">
Wald, Abraham. 1947. <span>“The Sequential Probability Ratio Test for
Testing a Simple Hypothesis <span class="math inline">\(H_0\)</span>
Against a Single Alternative <span class="math inline">\(H_1\)</span>.”</span> In <em>Sequential
Analysis</em>. Dover New York.
</div>
<div id="ref-wald1948optimum" class="csl-entry">
Wald, Abraham, and Jacob Wolfowitz. 1948. <span>“Optimum Character of
the Sequential Probability Ratio Test.”</span> <em>The Annals of
Mathematical Statistics</em> 19 (3): 326–39.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Keaven Anderson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
