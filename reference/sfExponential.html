<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Exponential Spending Function — sfExponential • gsDesign</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Exponential Spending Function — sfExponential" />
<meta property="og:description" content="The function sfExponential implements the exponential spending
function (Anderson and Clark, 2009). Normally sfExponential will be
passed to gsDesign in the parameter sfu for the upper bound or
sfl for the lower bound to specify a spending function family for a
design. In this case, the user does not need to know the calling sequence.
The calling sequence is useful, however, when the user wishes to plot a
spending function as demonstrated below in examples.
An exponential spending function is defined for any positive nu and
\(0\le t\le 1\) as
$$f(t;\alpha,\nu)=\alpha(t)=\alpha^{t^{-\nu}}.$$
A value of nu=0.8 approximates an O'Brien-Fleming spending function
well.
The general class of spending functions this family is derived from requires
a continuously increasing cumulative distribution function defined for
\(x&amp;gt;0\) and is defined as $$f(t;\alpha,
\nu)=1-F\left(F^{-1}(1-\alpha)/ t^\nu\right).$$ The exponential spending function can be
derived by letting \(F(x)=1-\exp(-x)\), the exponential cumulative
distribution function. This function was derived as a generalization of the
Lan-DeMets (1983) spending function used to approximate an O'Brien-Fleming
spending function (sfLDOF()), $$f(t; \alpha)=2-2\Phi \left(
\Phi^{-1}(1-\alpha/2)/ t^{1/2} \right).$$" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gsDesign</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.1.0.9006</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Exponential Spending Function</h1>
    
    <div class="hidden name"><code>sfExponential.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The function <code>sfExponential</code> implements the exponential spending
function (Anderson and Clark, 2009). Normally <code>sfExponential</code> will be
passed to <code>gsDesign</code> in the parameter <code>sfu</code> for the upper bound or
<code>sfl</code> for the lower bound to specify a spending function family for a
design. In this case, the user does not need to know the calling sequence.
The calling sequence is useful, however, when the user wishes to plot a
spending function as demonstrated below in examples.</p>
<p>An exponential spending function is defined for any positive <code>nu</code> and
\(0\le t\le 1\) as
$$f(t;\alpha,\nu)=\alpha(t)=\alpha^{t^{-\nu}}.$$
A value of <code>nu=0.8</code> approximates an O'Brien-Fleming spending function
well.</p>
<p>The general class of spending functions this family is derived from requires
a continuously increasing cumulative distribution function defined for
\(x&gt;0\) and is defined as $$f(t;\alpha,
\nu)=1-F\left(F^{-1}(1-\alpha)/ t^\nu\right).$$ The exponential spending function can be
derived by letting \(F(x)=1-\exp(-x)\), the exponential cumulative
distribution function. This function was derived as a generalization of the
Lan-DeMets (1983) spending function used to approximate an O'Brien-Fleming
spending function (<code><a href='sfLDOF.html'>sfLDOF()</a></code>), $$f(t; \alpha)=2-2\Phi \left(
\Phi^{-1}(1-\alpha/2)/ t^{1/2} \right).$$</p>
    </div>

    <pre class="usage"><span class='fu'>sfExponential</span>(<span class='no'>alpha</span>, <span class='no'>t</span>, <span class='no'>param</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>alpha</th>
      <td><p>Real value \(&gt; 0\) and no more than 1. Normally,
<code>alpha=0.025</code> for one-sided Type I error specification or
<code>alpha=0.1</code> for Type II error specification. However, this could be set
to 1 if for descriptive purposes you wish to see the proportion of spending
as a function of the proportion of sample size/information.</p></td>
    </tr>
    <tr>
      <th>t</th>
      <td><p>A vector of points with increasing values from 0 to 1, inclusive.
Values of the proportion of sample size/information for which the spending
function will be computed.</p></td>
    </tr>
    <tr>
      <th>param</th>
      <td><p>A single positive value specifying the nu parameter for which
the exponential spending is to be computed; allowable range is (0, 1.5].</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of type <code>spendfn</code>.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>The manual shows how to use <code>sfExponential()</code> to closely
approximate an O'Brien-Fleming design. An example is given below. The manual
is not linked to this help file, but is available in
library/gsdesign/doc/gsDesignManual.pdf in the directory where R is
installed.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Anderson KM and Clark JB (2009), Fitting spending functions.
<em>Statistics in Medicine</em>; 29:321-327.</p>
<p>Jennison C and Turnbull BW (2000), <em>Group Sequential Methods with
Applications to Clinical Trials</em>. Boca Raton: Chapman and Hall.</p>
<p>Lan, KKG and DeMets, DL (1983), Discrete sequential boundaries for clinical
trials. <em>Biometrika</em>; 70:659-663.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='Spending_Function_Overview.html'>Spending_Function_Overview</a>, <code><a href='gsDesign.html'>gsDesign</a></code>,
<a href='gsDesign-package-overview.html'>gsDesign package overview</a></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>ggplot2</span>)
<span class='co'># use 'best' exponential approximation for k=6 to O'Brien-Fleming design</span>
<span class='co'># (see manual for details)</span>
<span class='fu'><a href='gsDesign.html'>gsDesign</a></span>(
  <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>6</span>, <span class='kw'>sfu</span> <span class='kw'>=</span> <span class='no'>sfExponential</span>, <span class='kw'>sfupar</span> <span class='kw'>=</span> <span class='fl'>0.7849295</span>,
  <span class='kw'>test.type</span> <span class='kw'>=</span> <span class='fl'>2</span>
)$<span class='no'>upper</span>$<span class='no'>bound</span></div><div class='output co'>#&gt; [1] 4.998123 3.598098 2.933292 2.530838 2.253723 2.047082</div><div class='input'>
<span class='co'># show actual O'Brien-Fleming bound</span>
<span class='fu'><a href='gsDesign.html'>gsDesign</a></span>(<span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>6</span>, <span class='kw'>sfu</span> <span class='kw'>=</span> <span class='st'>"OF"</span>, <span class='kw'>test.type</span> <span class='kw'>=</span> <span class='fl'>2</span>)$<span class='no'>upper</span>$<span class='no'>bound</span></div><div class='output co'>#&gt; [1] 5.028296 3.555542 2.903088 2.514148 2.248722 2.052793</div><div class='input'>
<span class='co'># show Lan-DeMets approximation</span>
<span class='co'># (not as close as sfExponential approximation)</span>
<span class='fu'><a href='gsDesign.html'>gsDesign</a></span>(<span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>6</span>, <span class='kw'>sfu</span> <span class='kw'>=</span> <span class='no'>sfLDOF</span>, <span class='kw'>test.type</span> <span class='kw'>=</span> <span class='fl'>2</span>)$<span class='no'>upper</span>$<span class='no'>bound</span></div><div class='output co'>#&gt; [1] 5.366558 3.710340 2.969736 2.538677 2.252190 2.044790</div><div class='input'>
<span class='co'># plot exponential spending function across a range of values of interest</span>
<span class='no'>t</span> <span class='kw'>&lt;-</span> <span class='fl'>0</span>:<span class='fl'>100</span> / <span class='fl'>100</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='no'>t</span>, <span class='fu'>sfExponential</span>(<span class='fl'>0.025</span>, <span class='no'>t</span>, <span class='fl'>0.8</span>)$<span class='no'>spend</span>,
  <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='st'>"Proportion of final sample size"</span>,
  <span class='kw'>ylab</span> <span class='kw'>=</span> <span class='st'>"Cumulative Type I error spending"</span>,
  <span class='kw'>main</span> <span class='kw'>=</span> <span class='st'>"Exponential Spending Function Example"</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"l"</span>
)</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/lines.html'>lines</a></span>(<span class='no'>t</span>, <span class='fu'>sfExponential</span>(<span class='fl'>0.025</span>, <span class='no'>t</span>, <span class='fl'>0.5</span>)$<span class='no'>spend</span>, <span class='kw'>lty</span> <span class='kw'>=</span> <span class='fl'>2</span>)</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/lines.html'>lines</a></span>(<span class='no'>t</span>, <span class='fu'>sfExponential</span>(<span class='fl'>0.025</span>, <span class='no'>t</span>, <span class='fl'>0.3</span>)$<span class='no'>spend</span>, <span class='kw'>lty</span> <span class='kw'>=</span> <span class='fl'>3</span>)</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/lines.html'>lines</a></span>(<span class='no'>t</span>, <span class='fu'>sfExponential</span>(<span class='fl'>0.025</span>, <span class='no'>t</span>, <span class='fl'>0.2</span>)$<span class='no'>spend</span>, <span class='kw'>lty</span> <span class='kw'>=</span> <span class='fl'>4</span>)</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/lines.html'>lines</a></span>(<span class='no'>t</span>, <span class='fu'>sfExponential</span>(<span class='fl'>0.025</span>, <span class='no'>t</span>, <span class='fl'>0.15</span>)$<span class='no'>spend</span>, <span class='kw'>lty</span> <span class='kw'>=</span> <span class='fl'>5</span>)</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/legend.html'>legend</a></span>(
  <span class='kw'>x</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>.0</span>, <span class='fl'>.3</span>), <span class='kw'>y</span> <span class='kw'>=</span> <span class='fl'>.025</span> * <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>.7</span>, <span class='fl'>1</span>), <span class='kw'>lty</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>5</span>,
  <span class='kw'>legend</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(
    <span class='st'>"nu = 0.8"</span>, <span class='st'>"nu = 0.5"</span>, <span class='st'>"nu = 0.3"</span>, <span class='st'>"nu = 0.2"</span>,
    <span class='st'>"nu = 0.15"</span>
  )
)</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/text.html'>text</a></span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='fl'>.59</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='fl'>.95</span> * <span class='fl'>.025</span>, <span class='kw'>labels</span> <span class='kw'>=</span> <span class='st'>"&lt;--approximates O'Brien-Fleming"</span>)</div><div class='img'><img src='sfExponential-1.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Keaven Anderson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


