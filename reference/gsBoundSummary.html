<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Bound Summary and Z-transformations — summary.gsDesign • gsDesign</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Bound Summary and Z-transformations — summary.gsDesign"><meta name="description" content="A tabular summary of a group sequential design's bounds and their properties
are often useful. The 'vintage' print.gsDesign() function provides a
complete but minimally formatted summary of a group sequential design
derived by gsDesign(). A brief description of the overall design can
also be useful (summary.gsDesign().  A tabular summary of boundary
characteristics oriented only towards LaTeX output is produced by
xtable.gsSurv. More flexibility is provided by
gsBoundSummary() which produces a tabular summary of a
user-specifiable set of package-provided boundary properties in a data
frame.  This can also be used to along with functions such as
print.data.frame(), write.table(),
write.csv(), write.csv2() or, from the RTF
package, addTable.RTF() (from the rtf package) to produce console or
R Markdown output or output to a variety of file types. xprint() is
provided for LaTeX output by setting default options for
print.xtable when producing tables summarizing design
bounds.
Individual transformation of z-value test statistics for interim and final
analyses are obtained from gsBValue(), gsDelta(),
gsHR() and gsCPz() for B-values, approximate treatment effect
(see details), approximate hazard ratio and conditional power, respectively.
The print.gsDesign function is intended to provide an easier output
to review than is available from a simple list of all the output components.
The gsBoundSummary function is intended to provide a summary of
boundary characteristics that is often useful for evaluating boundary
selection; this outputs an extension of the data.frame class that
sets up default printing without row names using
print.gsBoundSummary. summary.gsDesign, on the other hand,
provides a summary of the overall design at a higher level; this provides
characteristics not included in the gsBoundSummary summary and no
detail concerning interim analysis bounds.
In brief, the computed descriptions of group sequential design bounds are as
follows: Z: Standardized normal test statistic at design bound.
p (1-sided): 1-sided p-value for Z. This will be computed as
the probability of a greater EXCEPT for lower bound when a 2-sided design is
being summarized.
delta at bound: Approximate value of the natural parameter at the
bound. The approximate standardized effect size at the bound is generally
computed as Z/sqrt(n). Calling this theta, this is translated
to the delta using the values delta0 and delta1 from
the input x by the formula delta0 +
(delta1-delta0)/theta1*theta where theta1 is the alternate
hypothesis value of the standardized parameter. Note that this value will be
exponentiated in the case of relative risks, hazard ratios or when the user
specifies logdelta=TRUE. In the case of hazard ratios, the value is
computed instead by gsHR() to be consistent with
plot.gsDesign(). Similarly, the value is computed by gsRR()
when the relative risk is the natural parameter.
Spending: Incremental error spending at each given analysis. For
asymmetric designs, futility bound will have beta-spending summarized.
Efficacy bound always has alpha-spending summarized.
B-value: sqrt(t)*Z where t is the proportion of
information at the analysis divided by the final analysis planned
information. The expected value for B-values is directly proportional to
t.
CP: Conditional power under the estimated treatment difference
assuming the interim Z-statistic is at the study bound
CP H1: Conditional power under the alternate hypothesis treatment
effect assuming the interim test statistic is at the study bound.
PP: Predictive power assuming the interim test statistic is at the
study bound and the input prior distribution for the standardized effect
size. This is the conditional power averaged across the posterior
distribution for the treatment effect given the interim test statistic
value. P{Cross if delta=xx}: For each of the parameter values in
x, the probability of crossing either bound given that treatment
effect is computed. This value is cumulative for each bound. For example,
the probability of crossing the efficacy bound at or before the analysis of
interest."><meta property="og:description" content="A tabular summary of a group sequential design's bounds and their properties
are often useful. The 'vintage' print.gsDesign() function provides a
complete but minimally formatted summary of a group sequential design
derived by gsDesign(). A brief description of the overall design can
also be useful (summary.gsDesign().  A tabular summary of boundary
characteristics oriented only towards LaTeX output is produced by
xtable.gsSurv. More flexibility is provided by
gsBoundSummary() which produces a tabular summary of a
user-specifiable set of package-provided boundary properties in a data
frame.  This can also be used to along with functions such as
print.data.frame(), write.table(),
write.csv(), write.csv2() or, from the RTF
package, addTable.RTF() (from the rtf package) to produce console or
R Markdown output or output to a variety of file types. xprint() is
provided for LaTeX output by setting default options for
print.xtable when producing tables summarizing design
bounds.
Individual transformation of z-value test statistics for interim and final
analyses are obtained from gsBValue(), gsDelta(),
gsHR() and gsCPz() for B-values, approximate treatment effect
(see details), approximate hazard ratio and conditional power, respectively.
The print.gsDesign function is intended to provide an easier output
to review than is available from a simple list of all the output components.
The gsBoundSummary function is intended to provide a summary of
boundary characteristics that is often useful for evaluating boundary
selection; this outputs an extension of the data.frame class that
sets up default printing without row names using
print.gsBoundSummary. summary.gsDesign, on the other hand,
provides a summary of the overall design at a higher level; this provides
characteristics not included in the gsBoundSummary summary and no
detail concerning interim analysis bounds.
In brief, the computed descriptions of group sequential design bounds are as
follows: Z: Standardized normal test statistic at design bound.
p (1-sided): 1-sided p-value for Z. This will be computed as
the probability of a greater EXCEPT for lower bound when a 2-sided design is
being summarized.
delta at bound: Approximate value of the natural parameter at the
bound. The approximate standardized effect size at the bound is generally
computed as Z/sqrt(n). Calling this theta, this is translated
to the delta using the values delta0 and delta1 from
the input x by the formula delta0 +
(delta1-delta0)/theta1*theta where theta1 is the alternate
hypothesis value of the standardized parameter. Note that this value will be
exponentiated in the case of relative risks, hazard ratios or when the user
specifies logdelta=TRUE. In the case of hazard ratios, the value is
computed instead by gsHR() to be consistent with
plot.gsDesign(). Similarly, the value is computed by gsRR()
when the relative risk is the natural parameter.
Spending: Incremental error spending at each given analysis. For
asymmetric designs, futility bound will have beta-spending summarized.
Efficacy bound always has alpha-spending summarized.
B-value: sqrt(t)*Z where t is the proportion of
information at the analysis divided by the final analysis planned
information. The expected value for B-values is directly proportional to
t.
CP: Conditional power under the estimated treatment difference
assuming the interim Z-statistic is at the study bound
CP H1: Conditional power under the alternate hypothesis treatment
effect assuming the interim test statistic is at the study bound.
PP: Predictive power assuming the interim test statistic is at the
study bound and the input prior distribution for the standardized effect
size. This is the conditional power averaged across the posterior
distribution for the treatment effect given the interim test statistic
value. P{Cross if delta=xx}: For each of the parameter values in
x, the probability of crossing either bound given that treatment
effect is computed. This value is cumulative for each bound. For example,
the probability of crossing the efficacy bound at or before the analysis of
interest."><meta property="og:image" content="https://keaven.github.io/gsDesign/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gsDesign</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.8.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/keaven/gsDesign/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Bound Summary and Z-transformations</h1>
      <small class="dont-index">Source: <a href="https://github.com/keaven/gsDesign/blob/v3.8.0/R/gsMethods.R" class="external-link"><code>R/gsMethods.R</code></a>, <a href="https://github.com/keaven/gsDesign/blob/v3.8.0/R/gsqplot.R" class="external-link"><code>R/gsqplot.R</code></a></small>
      <div class="d-none name"><code>gsBoundSummary.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A tabular summary of a group sequential design's bounds and their properties
are often useful. The 'vintage' <code>print.gsDesign()</code> function provides a
complete but minimally formatted summary of a group sequential design
derived by <code><a href="gsDesign.html">gsDesign()</a></code>. A brief description of the overall design can
also be useful (<code>summary.gsDesign()</code>.  A tabular summary of boundary
characteristics oriented only towards LaTeX output is produced by
<code><a href="nSurv.html">xtable.gsSurv</a></code>. More flexibility is provided by
<code>gsBoundSummary()</code> which produces a tabular summary of a
user-specifiable set of package-provided boundary properties in a data
frame.  This can also be used to along with functions such as
<code><a href="https://rdrr.io/r/base/print.dataframe.html" class="external-link">print.data.frame()</a></code>, <code><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.table()</a></code>,
<code><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv()</a></code>, <code><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv2()</a></code> or, from the RTF
package, <code>addTable.RTF()</code> (from the rtf package) to produce console or
R Markdown output or output to a variety of file types. <code>xprint()</code> is
provided for LaTeX output by setting default options for
<code><a href="https://rdrr.io/pkg/xtable/man/print.xtable.html" class="external-link">print.xtable</a></code> when producing tables summarizing design
bounds.</p>
<p>Individual transformation of z-value test statistics for interim and final
analyses are obtained from <code>gsBValue()</code>, <code>gsDelta()</code>,
<code>gsHR()</code> and <code>gsCPz()</code> for B-values, approximate treatment effect
(see details), approximate hazard ratio and conditional power, respectively.</p>
<p>The <code>print.gsDesign</code> function is intended to provide an easier output
to review than is available from a simple list of all the output components.
The <code>gsBoundSummary</code> function is intended to provide a summary of
boundary characteristics that is often useful for evaluating boundary
selection; this outputs an extension of the <code>data.frame</code> class that
sets up default printing without row names using
<code>print.gsBoundSummary</code>. <code>summary.gsDesign</code>, on the other hand,
provides a summary of the overall design at a higher level; this provides
characteristics not included in the <code>gsBoundSummary</code> summary and no
detail concerning interim analysis bounds.</p>
<p>In brief, the computed descriptions of group sequential design bounds are as
follows: <code>Z:</code> Standardized normal test statistic at design bound.</p>
<p><code>p (1-sided):</code> 1-sided p-value for <code>Z</code>. This will be computed as
the probability of a greater EXCEPT for lower bound when a 2-sided design is
being summarized.</p>
<p><code>delta at bound:</code> Approximate value of the natural parameter at the
bound. The approximate standardized effect size at the bound is generally
computed as <code>Z/sqrt(n)</code>. Calling this <code>theta</code>, this is translated
to the <code>delta</code> using the values <code>delta0</code> and <code>delta1</code> from
the input <code>x</code> by the formula <code>delta0 +
(delta1-delta0)/theta1*theta</code> where <code>theta1</code> is the alternate
hypothesis value of the standardized parameter. Note that this value will be
exponentiated in the case of relative risks, hazard ratios or when the user
specifies <code>logdelta=TRUE</code>. In the case of hazard ratios, the value is
computed instead by <code>gsHR()</code> to be consistent with
<code><a href="plot.gsDesign.html">plot.gsDesign()</a></code>. Similarly, the value is computed by <code>gsRR()</code>
when the relative risk is the natural parameter.</p>
<p><code>Spending: </code>Incremental error spending at each given analysis. For
asymmetric designs, futility bound will have beta-spending summarized.
Efficacy bound always has alpha-spending summarized.</p>
<p><code>B-value: </code><code>sqrt(t)*Z</code> where <code>t</code> is the proportion of
information at the analysis divided by the final analysis planned
information. The expected value for B-values is directly proportional to
<code>t</code>.</p>
<p><code>CP: </code>Conditional power under the estimated treatment difference
assuming the interim Z-statistic is at the study bound</p>
<p><code>CP H1: </code>Conditional power under the alternate hypothesis treatment
effect assuming the interim test statistic is at the study bound.</p>
<p><code>PP: </code>Predictive power assuming the interim test statistic is at the
study bound and the input prior distribution for the standardized effect
size. This is the conditional power averaged across the posterior
distribution for the treatment effect given the interim test statistic
value. <code>P{Cross if delta=xx}: </code>For each of the parameter values in
<code>x</code>, the probability of crossing either bound given that treatment
effect is computed. This value is cumulative for each bound. For example,
the probability of crossing the efficacy bound at or before the analysis of
interest.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'gsDesign'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">object</span>, information <span class="op">=</span> <span class="cn">FALSE</span>, timeunit <span class="op">=</span> <span class="st">"months"</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'gsDesign'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">gsBoundSummary</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  deltaname <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  logdelta <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  Nname <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  digits <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  ddigits <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  tdigits <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  timename <span class="op">=</span> <span class="st">"Month"</span>,</span>
<span>  prior <span class="op">=</span> <span class="fu"><a href="normalGrid.html">normalGrid</a></span><span class="op">(</span>mu <span class="op">=</span> <span class="va">x</span><span class="op">$</span><span class="va">delta</span><span class="op">/</span><span class="fl">2</span>, sigma <span class="op">=</span> <span class="fl">10</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">n.fix</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  POS <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  ratio <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  exclude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"B-value"</span>, <span class="st">"Spending"</span>, <span class="st">"CP"</span>, <span class="st">"CP H1"</span>, <span class="st">"PP"</span><span class="op">)</span>,</span>
<span>  r <span class="op">=</span> <span class="fl">18</span>,</span>
<span>  alpha <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">xprint</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  include.rownames <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  hline.after <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">Value</span> <span class="op">==</span> <span class="va">x</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span><span class="op">$</span><span class="va">Value</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'gsBoundSummary'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span>, digits <span class="op">=</span> <span class="fl">4</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">gsBValue</span><span class="op">(</span><span class="va">z</span>, <span class="va">i</span>, <span class="va">x</span>, ylab <span class="op">=</span> <span class="st">"B-value"</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">gsDelta</span><span class="op">(</span><span class="va">z</span>, <span class="va">i</span>, <span class="va">x</span>, ylab <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">gsRR</span><span class="op">(</span><span class="va">z</span>, <span class="va">i</span>, <span class="va">x</span>, ratio <span class="op">=</span> <span class="fl">1</span>, ylab <span class="op">=</span> <span class="st">"Approximate risk ratio"</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">gsHR</span><span class="op">(</span><span class="va">z</span>, <span class="va">i</span>, <span class="va">x</span>, ratio <span class="op">=</span> <span class="fl">1</span>, ylab <span class="op">=</span> <span class="st">"Approximate hazard ratio"</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">gsCPz</span><span class="op">(</span><span class="va">z</span>, <span class="va">i</span>, <span class="va">x</span>, theta <span class="op">=</span> <span class="cn">NULL</span>, ylab <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>An item of class <code>gsDesign</code> or <code>gsSurv</code></p></dd>


<dt id="arg-information">information<a class="anchor" aria-label="anchor" href="#arg-information"></a></dt>
<dd><p>indicator of whether <code>n.I</code> in <code>object</code>
represents statistical information rather than sample size or event counts.</p></dd>


<dt id="arg-timeunit">timeunit<a class="anchor" aria-label="anchor" href="#arg-timeunit"></a></dt>
<dd><p>Text string with time units used for time-to-event designs
created with <code><a href="nSurv.html">gsSurv()</a></code></p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>This allows many optional arguments that are standard when
calling <code>plot</code> for <code>gsBValue</code>, <code>gsDelta</code>, <code>gsHR</code>,
<code>gsRR</code> and <code>gsCPz</code></p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An item of class <code>gsDesign</code> or <code>gsSurv</code>, except for
<code>print.gsBoundSummary()</code> where <code>x</code> is an object created by
<code>gsBoundSummary()</code> and <code>xprint()</code> which is used with <code>xtable</code>
(see examples)</p></dd>


<dt id="arg-deltaname">deltaname<a class="anchor" aria-label="anchor" href="#arg-deltaname"></a></dt>
<dd><p>Natural parameter name. If default <code>NULL</code> is used,
routine will default to <code>"HR"</code> when class is <code>gsSurv</code> or if
<code>nFixSurv</code> was input when creating <code>x</code> with <code><a href="gsDesign.html">gsDesign()</a></code>.</p></dd>


<dt id="arg-logdelta">logdelta<a class="anchor" aria-label="anchor" href="#arg-logdelta"></a></dt>
<dd><p>Indicates whether natural parameter is the natural logarithm
of the actual parameter. For example, the relative risk or odds-ratio would
be put on the logarithmic scale since the asymptotic behavior is 'more
normal' than a non-transformed value. As with <code>deltaname</code>, the default
will be changed to true if <code>x</code> has class <code>gsDesign</code> or if
<code>nFixSurv&gt;0</code> was input when <code>x</code> was created by <code><a href="gsDesign.html">gsDesign()</a></code>;
that is, the natural parameter for a time-to-event endpoint will be on the
logarithmic scale.</p></dd>


<dt id="arg-nname">Nname<a class="anchor" aria-label="anchor" href="#arg-nname"></a></dt>
<dd><p>This will normally be changed to <code>"N"</code> or, if a
time-to-event endpoint is used, <code>"Events"</code>. Other immediate possibility
are <code>"Deaths"</code> or <code>"Information"</code>.</p></dd>


<dt id="arg-digits">digits<a class="anchor" aria-label="anchor" href="#arg-digits"></a></dt>
<dd><p>Number of digits past the decimal to be printed in the body of
the table.</p></dd>


<dt id="arg-ddigits">ddigits<a class="anchor" aria-label="anchor" href="#arg-ddigits"></a></dt>
<dd><p>Number of digits past the decimal to be printed for the
natural parameter delta.</p></dd>


<dt id="arg-tdigits">tdigits<a class="anchor" aria-label="anchor" href="#arg-tdigits"></a></dt>
<dd><p>Number of digits past the decimal point to be shown for
estimated timing of each analysis.</p></dd>


<dt id="arg-timename">timename<a class="anchor" aria-label="anchor" href="#arg-timename"></a></dt>
<dd><p>Text string indicating time unit.</p></dd>


<dt id="arg-prior">prior<a class="anchor" aria-label="anchor" href="#arg-prior"></a></dt>
<dd><p>A prior distribution for the standardized effect size. Must be
of the format produced by <code><a href="normalGrid.html">normalGrid()</a></code>, but can reflect an arbitrary
prior distribution. The default reflects a normal prior centered half-way
between the null and alternate hypothesis with the variance being equivalent
to the treatment effect estimate if 1 percent of the sample size for a fixed
design were sampled. The prior is intended to be relatively uninformative.
This input will only be applied if <code>POS=TRUE</code> is input.</p></dd>


<dt id="arg-pos">POS<a class="anchor" aria-label="anchor" href="#arg-pos"></a></dt>
<dd><p>This is an indicator of whether or not probability of success
(POS) should be estimated at baseline or at each interim based on the prior
distribution input in <code>prior</code>. The prior probability of success before
the trial starts is the power of the study averaged over the prior
distribution for the standardized effect size. The POS after an interim
analysis assumes the interim test statistic is an unknown value between the
futility and efficacy bounds. Based on this, a posterior distribution for
the standardized parameter is computed and the conditional power of the
trial is averaged over this posterior distribution.</p></dd>


<dt id="arg-ratio">ratio<a class="anchor" aria-label="anchor" href="#arg-ratio"></a></dt>
<dd><p>Sample size ratio assumed for experimental to control treatment
group sample sizes. This only matters when <code>x</code> for a binomial or
time-to-event endpoint where <code>gsRR</code> or <code>gsHR</code> are used for
approximating the treatment effect if a test statistic falls on a study
bound.</p></dd>


<dt id="arg-exclude">exclude<a class="anchor" aria-label="anchor" href="#arg-exclude"></a></dt>
<dd><p>A list of test statistics to be excluded from design boundary
summary produced; see details or examples for a list of all possible output
values. A value of <code>NULL</code> produces all available summaries.</p></dd>


<dt id="arg-r">r<a class="anchor" aria-label="anchor" href="#arg-r"></a></dt>
<dd><p>See <code><a href="gsDesign.html">gsDesign</a></code>. This is an integer used to control the
degree of accuracy of group sequential calculations which will normally not
be changed.</p></dd>


<dt id="arg-alpha">alpha<a class="anchor" aria-label="anchor" href="#arg-alpha"></a></dt>
<dd><p>If used, a vector of alternate alpha-levels to print boundaries
for. Only works with test.type 1, 4, and 6. If specified, efficacy bound
columns are headed by individual alpha levels. The alpha level of the input
design is always included as the first column.</p></dd>


<dt id="arg-include-rownames">include.rownames<a class="anchor" aria-label="anchor" href="#arg-include-rownames"></a></dt>
<dd><p>indicator of whether or not to include row names in
output.</p></dd>


<dt id="arg-hline-after">hline.after<a class="anchor" aria-label="anchor" href="#arg-hline-after"></a></dt>
<dd><p>table lines after which horizontal separation lines
should be set; default is to put lines between each analysis as well as at
the top and bottom of the table.</p></dd>


<dt id="arg-row-names">row.names<a class="anchor" aria-label="anchor" href="#arg-row-names"></a></dt>
<dd><p>indicator of whether or not to print row names</p></dd>


<dt id="arg-z">z<a class="anchor" aria-label="anchor" href="#arg-z"></a></dt>
<dd><p>A vector of z-statistics</p></dd>


<dt id="arg-i">i<a class="anchor" aria-label="anchor" href="#arg-i"></a></dt>
<dd><p>A vector containing the analysis for each element in <code>z</code>; each
element must be in 1 to <code>x$k</code>, inclusive</p></dd>


<dt id="arg-ylab">ylab<a class="anchor" aria-label="anchor" href="#arg-ylab"></a></dt>
<dd><p>Used when functions are passed to <code>plot.gsDesign</code> to
establish default y-axis labels</p></dd>


<dt id="arg-theta">theta<a class="anchor" aria-label="anchor" href="#arg-theta"></a></dt>
<dd><p>A scalar value representing the standardized effect size used
for conditional power calculations; see <code>gsDesign</code>; if NULL,
conditional power is computed at the estimated interim treatment effect
based on <code>z</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>gsBValue()</code>, <code>gsDelta()</code>, <code>gsHR()</code> and
<code>gsCPz()</code> each returns a vector containing the B-values, approximate
treatment effect (see details), approximate hazard ratio and conditional
power, respectively, for each value specified by the interim test statistics
in <code>z</code> at interim analyses specified in <code>i</code>.</p>
<p><code>summary</code> returns a text string summarizing the design at a high level.
This may be used with <code>gsBoundSummary</code> for a nicely formatted, concise
group sequential design description.</p>
<p><code>gsBoundSummary</code> returns a table in a data frame providing a variety of
boundary characteristics. The tabular format makes formatting particularly
amenable to place in documents either through direct creation of readable by
Word (see the <code>rtf</code> package) or to a csv format readable by spreadsheet
software using <code>write.csv</code>.</p>
<p><code>print.gsDesign</code> prints an overall summary a group sequential design.
While the design description is complete, the format is not as `document
friendly' as <code>gsBoundSummary</code>.</p>
<p><code>print.gsBoundSummary</code> is a simple extension of <code>print.data.frame</code>
intended for objects created with <code>gsBoundSummary</code>. The only extension
is to make the default to not print row names. This is probably `not good R
style' but may be helpful for many lazy R programmers like the author.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The gsDesign technical manual is available at
  <a href="https://keaven.github.io/gsd-tech-manual/" class="external-link">https://keaven.github.io/gsd-tech-manual/</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Jennison C and Turnbull BW (2000), <em>Group Sequential
Methods with Applications to Clinical Trials</em>. Boca Raton: Chapman and Hall.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="gsDesign.html">gsDesign</a>, <a href="plot.gsDesign.html">plot.gsDesign</a>,
<code><a href="gsProbability.html">gsProbability</a></code>, <code><a href="nSurv.html">xtable.gsSurv</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Keaven Anderson <a href="mailto:keaven_anderson@merck.com">keaven_anderson@merck.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># survival endpoint using gsSurv</span></span></span>
<span class="r-in"><span><span class="co"># generally preferred over nSurv since time computations are shown</span></span></span>
<span class="r-in"><span><span class="va">xgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="nSurv.html">gsSurv</a></span><span class="op">(</span>lambdaC <span class="op">=</span> <span class="fl">.2</span>, hr <span class="op">=</span> <span class="fl">.5</span>, eta <span class="op">=</span> <span class="fl">.1</span>, T <span class="op">=</span> <span class="fl">2</span>, minfup <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">gsBoundSummary</span><span class="op">(</span><span class="va">xgs</span>, timename <span class="op">=</span> <span class="st">"Year"</span>, tdigits <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Analysis              Value Efficacy Futility</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   IA 1: 33%                  Z   3.0107  -0.2388</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      N: 460        p (1-sided)   0.0013   0.5944</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Events: 33       ~HR at bound   0.3457   1.0879</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Year: 0.8   P(Cross) if HR=1   0.0013   0.4056</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             P(Cross) if HR=0.5   0.1412   0.0148</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   IA 2: 67%                  Z   2.5465   0.9410</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      N: 460        p (1-sided)   0.0054   0.1733</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Events: 65       ~HR at bound   0.5298   0.7907</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Year: 1.3   P(Cross) if HR=1   0.0062   0.8347</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             P(Cross) if HR=0.5   0.5815   0.0437</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Final                  Z   1.9992   1.9992</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      N: 460        p (1-sided)   0.0228   0.0228</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Events: 97       ~HR at bound   0.6655   0.6655</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Year: 2   P(Cross) if HR=1   0.0233   0.9767</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             P(Cross) if HR=0.5   0.9000   0.1000</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">xgs</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Asymmetric two-sided group sequential design with non-binding futility bound, 3 analyses, time-to-event outcome with sample size 460 and 97 events required, 90 percent power, 2.5 percent (1-sided) Type I error to detect a hazard ratio of 0.5. Enrollment and total study durations are assumed to be 0.5 and 2 months, respectively. Efficacy bounds derived using a Hwang-Shih-DeCani spending function with gamma = -4. Futility bounds derived using a Hwang-Shih-DeCani spending function with gamma = -2."</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># survival endpoint using nSurvival</span></span></span>
<span class="r-in"><span><span class="co"># NOTE: generally recommend gsSurv above for this!</span></span></span>
<span class="r-in"><span><span class="va">ss</span> <span class="op">&lt;-</span> <span class="fu"><a href="nSurvival.html">nSurvival</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  lambda1 <span class="op">=</span> <span class="fl">.2</span>, lambda2 <span class="op">=</span> <span class="fl">.1</span>, eta <span class="op">=</span> <span class="fl">.1</span>, Ts <span class="op">=</span> <span class="fl">2</span>, Tr <span class="op">=</span> <span class="fl">.5</span>,</span></span>
<span class="r-in"><span>  sided <span class="op">=</span> <span class="fl">1</span>, alpha <span class="op">=</span> <span class="fl">.025</span>, ratio <span class="op">=</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">xs</span> <span class="op">&lt;-</span> <span class="fu"><a href="gsDesign.html">gsDesign</a></span><span class="op">(</span>nFixSurv <span class="op">=</span> <span class="va">ss</span><span class="op">$</span><span class="va">n</span>, n.fix <span class="op">=</span> <span class="va">ss</span><span class="op">$</span><span class="va">nEvents</span>, delta1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">ss</span><span class="op">$</span><span class="va">lambda2</span> <span class="op">/</span> <span class="va">ss</span><span class="op">$</span><span class="va">lambda1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">gsBoundSummary</span><span class="op">(</span><span class="va">xs</span>, logdelta <span class="op">=</span> <span class="cn">TRUE</span>, ratio <span class="op">=</span> <span class="va">ss</span><span class="op">$</span><span class="va">ratio</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Analysis              Value Efficacy Futility</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  IA 1: 33%                  Z   3.0107  -0.2387</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      N: 34        p (1-sided)   0.0013   0.5943</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  ~HR at bound   0.3306   1.0917</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              P(Cross) if HR=1   0.0013   0.4057</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            P(Cross) if HR=0.5   0.1412   0.0148</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  IA 2: 67%                  Z   2.5465   0.9411</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      N: 67        p (1-sided)   0.0054   0.1733</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  ~HR at bound   0.5158   0.7830</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              P(Cross) if HR=1   0.0062   0.8347</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            P(Cross) if HR=0.5   0.5815   0.0437</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Final                  Z   1.9992   1.9992</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     N: 100        p (1-sided)   0.0228   0.0228</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  ~HR at bound   0.6542   0.6542</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              P(Cross) if HR=1   0.0233   0.9767</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            P(Cross) if HR=0.5   0.9000   0.1000</span>
<span class="r-in"><span><span class="co"># generate some of the above summary statistics for the upper bound</span></span></span>
<span class="r-in"><span><span class="va">z</span> <span class="op">&lt;-</span> <span class="va">xs</span><span class="op">$</span><span class="va">upper</span><span class="op">$</span><span class="va">bound</span></span></span>
<span class="r-in"><span><span class="co"># B-values</span></span></span>
<span class="r-in"><span><span class="fu">gsBValue</span><span class="op">(</span>z <span class="op">=</span> <span class="va">z</span>, i <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, x <span class="op">=</span> <span class="va">xs</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.738251 2.079233 1.999226</span>
<span class="r-in"><span><span class="co"># hazard ratio</span></span></span>
<span class="r-in"><span><span class="fu">gsHR</span><span class="op">(</span>z <span class="op">=</span> <span class="va">z</span>, i <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, x <span class="op">=</span> <span class="va">xs</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.3521851 0.5357126 0.6702573</span>
<span class="r-in"><span><span class="co"># conditional power at observed treatment effect</span></span></span>
<span class="r-in"><span><span class="fu">gsCPz</span><span class="op">(</span>z <span class="op">=</span> <span class="va">z</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>, i <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, x <span class="op">=</span> <span class="va">xs</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.9999676 0.9737643</span>
<span class="r-in"><span><span class="co"># conditional power at H1 treatment effect</span></span></span>
<span class="r-in"><span><span class="fu">gsCPz</span><span class="op">(</span>z <span class="op">=</span> <span class="va">z</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>, i <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, x <span class="op">=</span> <span class="va">xs</span>, theta <span class="op">=</span> <span class="va">xs</span><span class="op">$</span><span class="va">delta</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.9937804 0.9809768</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># information-based design</span></span></span>
<span class="r-in"><span><span class="va">xinfo</span> <span class="op">&lt;-</span> <span class="fu"><a href="gsDesign.html">gsDesign</a></span><span class="op">(</span>delta <span class="op">=</span> <span class="fl">.3</span>, delta1 <span class="op">=</span> <span class="fl">.3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">gsBoundSummary</span><span class="op">(</span><span class="va">xinfo</span>, Nname <span class="op">=</span> <span class="st">"Information"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Analysis                 Value Efficacy Futility</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            IA 1: 33%                     Z   3.0107  -0.2387</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Information: 41.64           p (1-sided)   0.0013   0.5943</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                            ~delta at bound   0.4666  -0.0370</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                        P(Cross) if delta=0   0.0013   0.4057</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      P(Cross) if delta=0.3   0.1412   0.0148</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            IA 2: 67%                     Z   2.5465   0.9411</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Information: 83.27           p (1-sided)   0.0054   0.1733</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                            ~delta at bound   0.2791   0.1031</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                        P(Cross) if delta=0   0.0062   0.8347</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      P(Cross) if delta=0.3   0.5815   0.0437</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Final                     Z   1.9992   1.9992</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Information: 124.91           p (1-sided)   0.0228   0.0228</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                            ~delta at bound   0.1789   0.1789</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                        P(Cross) if delta=0   0.0233   0.9767</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      P(Cross) if delta=0.3   0.9000   0.1000</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># show all available boundary descriptions</span></span></span>
<span class="r-in"><span><span class="fu">gsBoundSummary</span><span class="op">(</span><span class="va">xinfo</span>, Nname <span class="op">=</span> <span class="st">"Information"</span>, exclude <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Analysis                 Value Efficacy Futility</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            IA 1: 33%                     Z   3.0107  -0.2387</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Information: 41.64           p (1-sided)   0.0013   0.5943</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                            ~delta at bound   0.4666  -0.0370</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                   Spending   0.0013   0.0148</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                    B-value   1.7383  -0.1378</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                         CP   1.0000   0.0012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      CP H1   0.9938   0.4689</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                         PP   0.9897   0.0373</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                        P(Cross) if delta=0   0.0013   0.4057</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      P(Cross) if delta=0.3   0.1412   0.0148</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            IA 2: 67%                     Z   2.5465   0.9411</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Information: 83.27           p (1-sided)   0.0054   0.1733</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                            ~delta at bound   0.2791   0.1031</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                   Spending   0.0049   0.0289</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                    B-value   2.0792   0.7684</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                         CP   0.9738   0.0713</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      CP H1   0.9810   0.4223</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                         PP   0.9427   0.1157</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                        P(Cross) if delta=0   0.0062   0.8347</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      P(Cross) if delta=0.3   0.5815   0.0437</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Final                     Z   1.9992   1.9992</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Information: 124.91           p (1-sided)   0.0228   0.0228</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                            ~delta at bound   0.1789   0.1789</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                   Spending   0.0188   0.0563</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                    B-value   1.9992   1.9992</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                        P(Cross) if delta=0   0.0233   0.9767</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      P(Cross) if delta=0.3   0.9000   0.1000</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># add intermediate parameter value</span></span></span>
<span class="r-in"><span><span class="va">xinfo</span> <span class="op">&lt;-</span> <span class="fu"><a href="gsProbability.html">gsProbability</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">xinfo</span>, theta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">.15</span>, <span class="fl">.3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">xinfo</span><span class="op">)</span> <span class="co"># note this is still as gsDesign class object</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "gsDesign"</span>
<span class="r-in"><span><span class="fu">gsBoundSummary</span><span class="op">(</span><span class="va">xinfo</span>, Nname <span class="op">=</span> <span class="st">"Information"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Analysis                  Value Efficacy Futility</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            IA 1: 33%                      Z   3.0107  -0.2387</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Information: 41.64            p (1-sided)   0.0013   0.5943</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                             ~delta at bound   0.4666  -0.0370</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                         P(Cross) if delta=0   0.0013   0.4057</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      P(Cross) if delta=0.15   0.0205   0.1138</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                       P(Cross) if delta=0.3   0.1412   0.0148</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            IA 2: 67%                      Z   2.5465   0.9411</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Information: 83.27            p (1-sided)   0.0054   0.1733</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                             ~delta at bound   0.2791   0.1031</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                         P(Cross) if delta=0   0.0062   0.8347</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      P(Cross) if delta=0.15   0.1243   0.3523</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                       P(Cross) if delta=0.3   0.5815   0.0437</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Final                      Z   1.9992   1.9992</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Information: 124.91            p (1-sided)   0.0228   0.0228</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                             ~delta at bound   0.1789   0.1789</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                         P(Cross) if delta=0   0.0233   0.9767</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      P(Cross) if delta=0.15   0.3636   0.6364</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                       P(Cross) if delta=0.3   0.9000   0.1000</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># now look at a binomial endpoint; specify H0 treatment difference as p1-p2=.05</span></span></span>
<span class="r-in"><span><span class="co"># now treatment effect at bound (say, thetahat) is transformed to</span></span></span>
<span class="r-in"><span><span class="co"># xp$delta0 + xp$delta1*(thetahat-xp$delta0)/xp$delta</span></span></span>
<span class="r-in"><span><span class="va">np</span> <span class="op">&lt;-</span> <span class="fu"><a href="varBinomial.html">nBinomial</a></span><span class="op">(</span>p1 <span class="op">=</span> <span class="fl">.15</span>, p2 <span class="op">=</span> <span class="fl">.10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">xp</span> <span class="op">&lt;-</span> <span class="fu"><a href="gsDesign.html">gsDesign</a></span><span class="op">(</span>n.fix <span class="op">=</span> <span class="va">np</span>, endpoint <span class="op">=</span> <span class="st">"Binomial"</span>, delta1 <span class="op">=</span> <span class="fl">.05</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">xp</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Asymmetric two-sided group sequential design with non-binding futility bound, 3 analyses, sample size 1963, 90 percent power, 2.5 percent (1-sided) Type I error. Efficacy bounds derived using a Hwang-Shih-DeCani spending function with gamma = -4. Futility bounds derived using a Hwang-Shih-DeCani spending function with gamma = -2."</span>
<span class="r-in"><span><span class="fu">gsBoundSummary</span><span class="op">(</span><span class="va">xp</span>, deltaname <span class="op">=</span> <span class="st">"p[C]-p[E]"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Analysis                      Value Efficacy Futility</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  IA 1: 33%                          Z   3.0107  -0.2387</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     N: 655                p (1-sided)   0.0013   0.5943</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   ~p[C]-p[E] at bound   0.0778  -0.0062</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               P(Cross) if p[C]-p[E]=0   0.0013   0.4057</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            P(Cross) if p[C]-p[E]=0.05   0.1412   0.0148</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  IA 2: 67%                          Z   2.5465   0.9411</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    N: 1309                p (1-sided)   0.0054   0.1733</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   ~p[C]-p[E] at bound   0.0465   0.0172</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               P(Cross) if p[C]-p[E]=0   0.0062   0.8347</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            P(Cross) if p[C]-p[E]=0.05   0.5815   0.0437</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Final                          Z   1.9992   1.9992</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    N: 1963                p (1-sided)   0.0228   0.0228</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   ~p[C]-p[E] at bound   0.0298   0.0298</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               P(Cross) if p[C]-p[E]=0   0.0233   0.9767</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            P(Cross) if p[C]-p[E]=0.05   0.9000   0.1000</span>
<span class="r-in"><span><span class="co"># estimate treatment effect at lower bound</span></span></span>
<span class="r-in"><span><span class="co"># by setting delta0=0 (default) and delta1 above in gsDesign</span></span></span>
<span class="r-in"><span><span class="co"># treatment effect at bounds is scaled to these differences</span></span></span>
<span class="r-in"><span><span class="co"># in this case, this is the difference in event rates</span></span></span>
<span class="r-in"><span><span class="fu">gsDelta</span><span class="op">(</span>z <span class="op">=</span> <span class="va">xp</span><span class="op">$</span><span class="va">lower</span><span class="op">$</span><span class="va">bound</span>, i <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="va">xp</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.006166098  0.017187789  0.029813687</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># binomial endpoint with risk ratio estimates</span></span></span>
<span class="r-in"><span><span class="va">n.fix</span> <span class="op">&lt;-</span> <span class="fu"><a href="varBinomial.html">nBinomial</a></span><span class="op">(</span>p1 <span class="op">=</span> <span class="fl">.3</span>, p2 <span class="op">=</span> <span class="fl">.15</span>, scale <span class="op">=</span> <span class="st">"RR"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">xrr</span> <span class="op">&lt;-</span> <span class="fu"><a href="gsDesign.html">gsDesign</a></span><span class="op">(</span>k <span class="op">=</span> <span class="fl">2</span>, n.fix <span class="op">=</span> <span class="va">n.fix</span>, delta1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">.15</span> <span class="op">/</span> <span class="fl">.3</span><span class="op">)</span>, endpoint <span class="op">=</span> <span class="st">"Binomial"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">gsBoundSummary</span><span class="op">(</span><span class="va">xrr</span>, deltaname <span class="op">=</span> <span class="st">"RR"</span>, logdelta <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Analysis              Value Efficacy Futility</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  IA 1: 50%                  Z   2.7500   0.4122</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     N: 168        p (1-sided)   0.0030   0.3401</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  ~RR at bound   0.4429   0.8851</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              P(Cross) if RR=1   0.0030   0.6599</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            P(Cross) if RR=0.5   0.3412   0.0269</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Final                  Z   1.9811   1.9811</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     N: 336        p (1-sided)   0.0238   0.0238</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  ~RR at bound   0.6605   0.6605</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              P(Cross) if RR=1   0.0239   0.9761</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            P(Cross) if RR=0.5   0.9000   0.1000</span>
<span class="r-in"><span><span class="fu">gsRR</span><span class="op">(</span>z <span class="op">=</span> <span class="va">xp</span><span class="op">$</span><span class="va">lower</span><span class="op">$</span><span class="va">bound</span>, i <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="va">xrr</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.0732500 0.8211496        NA</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">xrr</span>, plottype <span class="op">=</span> <span class="st">"RR"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="gsBoundSummary-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># delta is odds-ratio: sample size slightly smaller than for relative risk or risk difference</span></span></span>
<span class="r-in"><span><span class="va">n.fix</span> <span class="op">&lt;-</span> <span class="fu"><a href="varBinomial.html">nBinomial</a></span><span class="op">(</span>p1 <span class="op">=</span> <span class="fl">.3</span>, p2 <span class="op">=</span> <span class="fl">.15</span>, scale <span class="op">=</span> <span class="st">"OR"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">xOR</span> <span class="op">&lt;-</span> <span class="fu"><a href="gsDesign.html">gsDesign</a></span><span class="op">(</span>k <span class="op">=</span> <span class="fl">2</span>, n.fix <span class="op">=</span> <span class="va">n.fix</span>, delta1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">.15</span> <span class="op">/</span> <span class="fl">.3</span> <span class="op">/</span> <span class="fl">.85</span> <span class="op">*</span> <span class="fl">.7</span><span class="op">)</span>, endpoint <span class="op">=</span> <span class="st">"Binomial"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">gsBoundSummary</span><span class="op">(</span><span class="va">xOR</span>, deltaname <span class="op">=</span> <span class="st">"OR"</span>, logdelta <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Analysis               Value Efficacy Futility</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  IA 1: 50%                   Z   2.7500   0.4122</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     N: 166         p (1-sided)   0.0030   0.3401</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   ~OR at bound   0.3526   0.8553</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               P(Cross) if OR=1   0.0030   0.6599</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            P(Cross) if OR=0.41   0.3412   0.0269</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Final                   Z   1.9811   1.9811</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     N: 332         p (1-sided)   0.0238   0.0238</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   ~OR at bound   0.5880   0.5880</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               P(Cross) if OR=1   0.0239   0.9761</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            P(Cross) if OR=0.41   0.9000   0.1000</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># for nice LaTeX table output, use xprint</span></span></span>
<span class="r-in"><span><span class="fu">xprint</span><span class="op">(</span><span class="fu">xtable</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/xtable/man/xtable.html" class="external-link">xtable</a></span><span class="op">(</span><span class="fu">gsBoundSummary</span><span class="op">(</span><span class="va">xOR</span>, deltaname <span class="op">=</span> <span class="st">"OR"</span>, logdelta <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  caption <span class="op">=</span> <span class="st">"Table caption."</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> % latex table generated in R 4.5.2 by xtable 1.8-4 package</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> % Sun Dec  7 01:28:45 2025</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \begin{table}[ht]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \centering</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \begin{tabular}{llrr}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   \hline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Analysis &amp; Value &amp; Efficacy &amp; Futility \\ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   \hline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> IA 1: 50\% &amp; Z &amp; 2.75 &amp; 0.41 \\ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   N: 166 &amp; p (1-sided) &amp; 0.00 &amp; 0.34 \\ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    &amp; \~{}OR at bound &amp; 0.35 &amp; 0.86 \\ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    &amp; P(Cross) if OR=1 &amp; 0.00 &amp; 0.66 \\ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    &amp; P(Cross) if OR=0.41 &amp; 0.34 &amp; 0.03 \\ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    \hline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Final &amp; Z &amp; 1.98 &amp; 1.98 \\ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   N: 332 &amp; p (1-sided) &amp; 0.02 &amp; 0.02 \\ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    &amp; \~{}OR at bound &amp; 0.59 &amp; 0.59 \\ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    &amp; P(Cross) if OR=1 &amp; 0.02 &amp; 0.98 \\ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    &amp; P(Cross) if OR=0.41 &amp; 0.90 &amp; 0.10 \\ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    \hline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \end{tabular}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \caption{Table caption.} </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \end{table}</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Keaven Anderson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

