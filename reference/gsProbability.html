<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Boundary Crossing Probabilities — gsProbability • gsDesign</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Boundary Crossing Probabilities — gsProbability"><meta name="description" content="Computes power/Type I error and expected sample size for a group sequential
design across a selected set of parameter values for a given set of analyses
and boundaries. The print function has been extended using
print.gsProbability to print gsProbability objects; see
examples.
Depending on the calling sequence, an object of class gsProbability
or class gsDesign is returned. If it is of class gsDesign then
the members of the object will be the same as described in
gsDesign. If d is input as NULL (the default),
all other arguments (other than r) must be specified and an object of
class gsProbability is returned. If d is passed as an object
of class gsProbability or gsDesign the only other argument
required is theta; the object returned has the same class as the
input d. On output, the values of theta input to
gsProbability will be the parameter values for which the design is
characterized."><meta property="og:description" content="Computes power/Type I error and expected sample size for a group sequential
design across a selected set of parameter values for a given set of analyses
and boundaries. The print function has been extended using
print.gsProbability to print gsProbability objects; see
examples.
Depending on the calling sequence, an object of class gsProbability
or class gsDesign is returned. If it is of class gsDesign then
the members of the object will be the same as described in
gsDesign. If d is input as NULL (the default),
all other arguments (other than r) must be specified and an object of
class gsProbability is returned. If d is passed as an object
of class gsProbability or gsDesign the only other argument
required is theta; the object returned has the same class as the
input d. On output, the values of theta input to
gsProbability will be the parameter values for which the design is
characterized."><meta property="og:image" content="https://keaven.github.io/gsDesign/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gsDesign</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.6.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/keaven/gsDesign/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Boundary Crossing Probabilities</h1>
      <small class="dont-index">Source: <a href="https://github.com/keaven/gsDesign/blob/master/R/gsDesign.R" class="external-link"><code>R/gsDesign.R</code></a>, <a href="https://github.com/keaven/gsDesign/blob/master/R/gsMethods.R" class="external-link"><code>R/gsMethods.R</code></a></small>
      <div class="d-none name"><code>gsProbability.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Computes power/Type I error and expected sample size for a group sequential
design across a selected set of parameter values for a given set of analyses
and boundaries. The print function has been extended using
<code>print.gsProbability</code> to print <code>gsProbability</code> objects; see
examples.</p>
<p>Depending on the calling sequence, an object of class <code>gsProbability</code>
or class <code>gsDesign</code> is returned. If it is of class <code>gsDesign</code> then
the members of the object will be the same as described in
<code><a href="gsDesign.html">gsDesign</a></code>. If <code>d</code> is input as <code>NULL</code> (the default),
all other arguments (other than <code>r</code>) must be specified and an object of
class <code>gsProbability</code> is returned. If <code>d</code> is passed as an object
of class <code>gsProbability</code> or <code>gsDesign</code> the only other argument
required is <code>theta</code>; the object returned has the same class as the
input <code>d</code>. On output, the values of <code>theta</code> input to
<code>gsProbability</code> will be the parameter values for which the design is
characterized.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">gsProbability</span><span class="op">(</span>k <span class="op">=</span> <span class="fl">0</span>, <span class="va">theta</span>, <span class="va">n.I</span>, <span class="va">a</span>, <span class="va">b</span>, r <span class="op">=</span> <span class="fl">18</span>, d <span class="op">=</span> <span class="cn">NULL</span>, overrun <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'gsProbability'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-k">k<a class="anchor" aria-label="anchor" href="#arg-k"></a></dt>
<dd><p>Number of analyses planned, including interim and final.</p></dd>


<dt id="arg-theta">theta<a class="anchor" aria-label="anchor" href="#arg-theta"></a></dt>
<dd><p>Vector of standardized effect sizes for which boundary crossing
probabilities are to be computed.</p></dd>


<dt id="arg-n-i">n.I<a class="anchor" aria-label="anchor" href="#arg-n-i"></a></dt>
<dd><p>Sample size or relative sample size at analyses; vector of length
k. See <code><a href="gsDesign.html">gsDesign</a></code> and manual.</p></dd>


<dt id="arg-a">a<a class="anchor" aria-label="anchor" href="#arg-a"></a></dt>
<dd><p>Lower bound cutoffs (z-values) for futility or harm at each
analysis, vector of length k.</p></dd>


<dt id="arg-b">b<a class="anchor" aria-label="anchor" href="#arg-b"></a></dt>
<dd><p>Upper bound cutoffs (z-values) for futility at each analysis;
vector of length k.</p></dd>


<dt id="arg-r">r<a class="anchor" aria-label="anchor" href="#arg-r"></a></dt>
<dd><p>Integer value (&gt;= 1 and &lt;= 80) controlling the number of numerical
integration grid points. Default is 18, as recommended by Jennison and
Turnbull (2000). Grid points are spread out in the tails for accurate
probability calculations. Larger values provide more grid points and greater
accuracy but slow down computation. Jennison and Turnbull (p. 350) note an
accuracy of \(10^{-6}\) with <code>r = 16</code>. This parameter is normally
not changed by users.</p></dd>


<dt id="arg-d">d<a class="anchor" aria-label="anchor" href="#arg-d"></a></dt>
<dd><p>If not <code>NULL</code>, this should be an object of type
<code>gsDesign</code> returned by a call to <code><a href="gsDesign.html">gsDesign()</a></code>.  When this is
specified, the values of <code>k</code>, <code>n.I</code>, <code>a</code>, <code>b</code>, and
<code>r</code> will be obtained from <code>d</code> and only <code>theta</code> needs to be
specified by the user.</p></dd>


<dt id="arg-overrun">overrun<a class="anchor" aria-label="anchor" href="#arg-overrun"></a></dt>
<dd><p>Scalar or vector of length <code>k-1</code> with patients enrolled
that are not included in each interim analysis.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An item of class <code>gsProbability</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Not implemented (here for compatibility with generic print
input).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>


<dl><dt>k</dt>
<dd><p>As input.</p></dd>
 <dt>theta</dt>
<dd><p>As input.</p></dd>
 <dt>n.I</dt>
<dd><p>As input.</p></dd>

<dt>lower</dt>
<dd><p>A list containing two elements: <code>bound</code> is as input in
<code>a</code> and <code>prob</code> is a matrix of boundary crossing probabilities.
Element <code>i,j</code> contains the boundary crossing probability at analysis
<code>i</code> for the <code>j</code>-th element of <code>theta</code> input. All boundary
crossing is assumed to be binding for this computation; that is, the trial
must stop if a boundary is crossed.</p></dd>
 <dt>upper</dt>
<dd><p>A list of the same form as
<code>lower</code> containing the upper bound and upper boundary crossing
probabilities.</p></dd>
 <dt>en</dt>
<dd><p>A vector of the same length as <code>theta</code>
containing expected sample sizes for the trial design corresponding to each
value in the vector <code>theta</code>.</p></dd>
 <dt>r</dt>
<dd><p>As input.</p></dd>
</dl><p>Note:
<code>print.gsProbability()</code> returns the input <code>x</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The gsDesign technical manual is available at
  <a href="https://keaven.github.io/gsd-tech-manual/" class="external-link">https://keaven.github.io/gsd-tech-manual/</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Jennison C and Turnbull BW (2000), <em>Group Sequential
Methods with Applications to Clinical Trials</em>. Boca Raton: Chapman and Hall.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="plot.gsDesign.html">plot.gsDesign</a>, <code><a href="gsDesign.html">gsDesign</a></code>,
<code><a href="../articles/gsDesignPackageOverview.html">vignette("gsDesignPackageOverview")</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Keaven Anderson <a href="mailto:keaven_anderson@merck.com">keaven_anderson@merck.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># making a gsDesign object first may be easiest...</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="gsDesign.html">gsDesign</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># take a look at it</span></span></span>
<span class="r-in"><span><span class="va">x</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Asymmetric two-sided group sequential design with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 90 % power and 2.5 % Type I Error.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Upper bound spending computations assume</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> trial continues if lower bound is crossed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            Sample</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Size    ----Lower bounds----  ----Upper bounds-----</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Analysis Ratio*   Z   Nominal p Spend+  Z   Nominal p Spend++</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          1  0.357 -0.24    0.4057 0.0148 3.01    0.0013  0.0013</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          2  0.713  0.94    0.8267 0.0289 2.55    0.0054  0.0049</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          3  1.070  2.00    0.9772 0.0563 2.00    0.0228  0.0188</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Total                        0.1000                 0.0250 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> + lower bound beta spending (under H1):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Hwang-Shih-DeCani spending function with gamma = -2.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ++ alpha spending:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Hwang-Shih-DeCani spending function with gamma = -4.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Sample size ratio compared to fixed design with no interim</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Boundary crossing probabilities and expected sample size</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> assume any cross stops the trial</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Upper boundary (power or Type I Error)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Theta      1      2      3  Total   E{N}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0.0000 0.0013 0.0049 0.0171 0.0233 0.6249</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3.2415 0.1412 0.4403 0.3185 0.9000 0.7913</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lower boundary (futility or Type II Error)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Theta      1      2      3  Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0.0000 0.4057 0.4290 0.1420 0.9767</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3.2415 0.0148 0.0289 0.0563 0.1000</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># default plot for gsDesign object shows boundaries</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="gsProbability-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \code{plottype=2} shows boundary crossing probabilities</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span>, plottype <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="gsProbability-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># now add boundary crossing probabilities and</span></span></span>
<span class="r-in"><span><span class="co"># expected sample size for more theta values</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu">gsProbability</span><span class="op">(</span>d <span class="op">=</span> <span class="va">x</span>, theta <span class="op">=</span> <span class="va">x</span><span class="op">$</span><span class="va">delta</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2</span>, <span class="fl">.25</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "gsDesign"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># note that "y" below is equivalent to \code{print(y)} and</span></span></span>
<span class="r-in"><span><span class="co"># \code{print.gsProbability(y)}</span></span></span>
<span class="r-in"><span><span class="va">y</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Asymmetric two-sided group sequential design with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 90 % power and 2.5 % Type I Error.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Upper bound spending computations assume</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> trial continues if lower bound is crossed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            Sample</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Size    ----Lower bounds----  ----Upper bounds-----</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Analysis Ratio*   Z   Nominal p Spend+  Z   Nominal p Spend++</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          1  0.357 -0.24    0.4057 0.0148 3.01    0.0013  0.0013</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          2  0.713  0.94    0.8267 0.0289 2.55    0.0054  0.0049</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          3  1.070  2.00    0.9772 0.0563 2.00    0.0228  0.0188</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Total                        0.1000                 0.0250 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> + lower bound beta spending (under H1):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Hwang-Shih-DeCani spending function with gamma = -2.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ++ alpha spending:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Hwang-Shih-DeCani spending function with gamma = -4.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Sample size ratio compared to fixed design with no interim</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Boundary crossing probabilities and expected sample size</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> assume any cross stops the trial</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Upper boundary (power or Type I Error)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Theta      1      2      3  Total   E{N}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0.0000 0.0013 0.0049 0.0171 0.0233 0.6249</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0.8104 0.0058 0.0279 0.0872 0.1209 0.7523</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1.6208 0.0205 0.1038 0.2393 0.3636 0.8520</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2.4311 0.0595 0.2579 0.3636 0.6810 0.8668</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3.2415 0.1412 0.4403 0.3185 0.9000 0.7913</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4.0519 0.2773 0.5353 0.1684 0.9810 0.6765</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4.8623 0.4574 0.4844 0.0559 0.9976 0.5701</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5.6727 0.6469 0.3410 0.0119 0.9998 0.4868</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   6.4830 0.8053 0.1930 0.0016 1.0000 0.4266</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lower boundary (futility or Type II Error)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Theta      1      2      3  Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0.0000 0.4057 0.4290 0.1420 0.9767</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0.8104 0.2349 0.3812 0.2630 0.8791</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1.6208 0.1138 0.2385 0.2841 0.6364</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2.4311 0.0455 0.1017 0.1718 0.3190</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3.2415 0.0148 0.0289 0.0563 0.1000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4.0519 0.0039 0.0054 0.0097 0.0190</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4.8623 0.0008 0.0006 0.0009 0.0024</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5.6727 0.0001 0.0001 0.0000 0.0002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   6.4830 0.0000 0.0000 0.0000 0.0000</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># the plot does not change from before since this is a</span></span></span>
<span class="r-in"><span><span class="co"># gsDesign object; note that theta/delta is on x axis</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">y</span>, plottype <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="gsProbability-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># now let's see what happens with a gsProbability object</span></span></span>
<span class="r-in"><span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu">gsProbability</span><span class="op">(</span></span></span>
<span class="r-in"><span>  k <span class="op">=</span> <span class="fl">3</span>, a <span class="op">=</span> <span class="va">x</span><span class="op">$</span><span class="va">lower</span><span class="op">$</span><span class="va">bound</span>, b <span class="op">=</span> <span class="va">x</span><span class="op">$</span><span class="va">upper</span><span class="op">$</span><span class="va">bound</span>,</span></span>
<span class="r-in"><span>  n.I <span class="op">=</span> <span class="va">x</span><span class="op">$</span><span class="va">n.I</span>, theta <span class="op">=</span> <span class="va">x</span><span class="op">$</span><span class="va">delta</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2</span>, <span class="fl">.25</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># with the above form,  the results is a gsProbability object</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "gsProbability"</span>
<span class="r-in"><span><span class="va">z</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               Lower bounds   Upper bounds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Analysis N    Z   Nominal p  Z   Nominal p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          1  1 -0.24    0.4057 3.01    0.0013</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          2  1  0.94    0.8267 2.55    0.0054</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          3  2  2.00    0.9772 2.00    0.0228</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Boundary crossing probabilities and expected sample size assume</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> any cross stops the trial</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Upper boundary</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Theta      1      2      3  Total E{N}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0.0000 0.0013 0.0049 0.0171 0.0233  0.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0.8104 0.0058 0.0279 0.0872 0.1209  0.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1.6208 0.0205 0.1038 0.2393 0.3636  0.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2.4311 0.0595 0.2579 0.3636 0.6810  0.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3.2415 0.1412 0.4403 0.3185 0.9000  0.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4.0519 0.2773 0.5353 0.1684 0.9810  0.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4.8623 0.4574 0.4844 0.0559 0.9976  0.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5.6727 0.6469 0.3410 0.0119 0.9998  0.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   6.4830 0.8053 0.1930 0.0016 1.0000  0.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lower boundary</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Theta      1      2      3  Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0.0000 0.4057 0.4290 0.1420 0.9767</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0.8104 0.2349 0.3812 0.2630 0.8791</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1.6208 0.1138 0.2385 0.2841 0.6364</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2.4311 0.0455 0.1017 0.1718 0.3190</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3.2415 0.0148 0.0289 0.0563 0.1000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4.0519 0.0039 0.0054 0.0097 0.0190</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4.8623 0.0008 0.0006 0.0009 0.0024</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5.6727 0.0001 0.0001 0.0000 0.0002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   6.4830 0.0000 0.0000 0.0000 0.0000</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># default plottype is now 2</span></span></span>
<span class="r-in"><span><span class="co"># this is the same range for theta, but plot now has theta on x axis</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="gsProbability-4.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Keaven Anderson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

