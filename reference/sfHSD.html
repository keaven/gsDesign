<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Hwang-Shih-DeCani Spending Function — sfHSD • gsDesign</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Hwang-Shih-DeCani Spending Function — sfHSD" />
<meta property="og:description" content="The function sfHSD implements a Hwang-Shih-DeCani spending function.
This is the default spending function for gsDesign(). Normally it
will be passed to gsDesign in the parameter sfu for the upper
bound or sfl for the lower bound to specify a spending function
family for a design. In this case, the user does not need to know the
calling sequence. The calling sequence is useful, however, when the user
wishes to plot a spending function as demonstrated below in examples.
A Hwang-Shih-DeCani spending function takes the form $$f(t;\alpha,
\gamma)=\alpha(1-e^{-\gamma t})/(1-e^{-\gamma})$$ where \(\gamma\) is the
value passed in param. A value of \(\gamma=-4\) is used
to approximate an O'Brien-Fleming design (see sfExponential
for a better fit), while a value of \(\gamma=1\) approximates a
Pocock design well." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gsDesign</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.1.0.9006</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Hwang-Shih-DeCani Spending Function</h1>
    
    <div class="hidden name"><code>sfHSD.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The function <code>sfHSD</code> implements a Hwang-Shih-DeCani spending function.
This is the default spending function for <code><a href='gsDesign.html'>gsDesign()</a></code>. Normally it
will be passed to <code>gsDesign</code> in the parameter <code>sfu</code> for the upper
bound or <code>sfl</code> for the lower bound to specify a spending function
family for a design. In this case, the user does not need to know the
calling sequence. The calling sequence is useful, however, when the user
wishes to plot a spending function as demonstrated below in examples.</p>
<p>A Hwang-Shih-DeCani spending function takes the form $$f(t;\alpha,
\gamma)=\alpha(1-e^{-\gamma t})/(1-e^{-\gamma})$$ where \(\gamma\) is the
value passed in <code>param</code>. A value of \(\gamma=-4\) is used
to approximate an O'Brien-Fleming design (see <code><a href='sfExponential.html'>sfExponential</a></code>
for a better fit), while a value of \(\gamma=1\) approximates a
Pocock design well.</p>
    </div>

    <pre class="usage"><span class='fu'>sfHSD</span>(<span class='no'>alpha</span>, <span class='no'>t</span>, <span class='no'>param</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>alpha</th>
      <td><p>Real value \(&gt; 0\) and no more than 1. Normally,
<code>alpha=0.025</code> for one-sided Type I error specification or
<code>alpha=0.1</code> for Type II error specification. However, this could be set
to 1 if for descriptive purposes you wish to see the proportion of spending
as a function of the proportion of sample size/information.</p></td>
    </tr>
    <tr>
      <th>t</th>
      <td><p>A vector of points with increasing values from 0 to 1, inclusive.
Values of the proportion of sample size/information for which the spending
function will be computed.</p></td>
    </tr>
    <tr>
      <th>param</th>
      <td><p>A single real value specifying the gamma parameter for which
Hwang-Shih-DeCani spending is to be computed; allowable range is [-40, 40]</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of type <code>spendfn</code>. See <a href='Spending_Function_Overview.html'>Spending_Function_Overview</a> for further details.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>The manual is not linked to this help file, but is available in
library/gsdesign/doc/gsDesignManual.pdf in the directory where R is
installed.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Jennison C and Turnbull BW (2000), <em>Group Sequential
Methods with Applications to Clinical Trials</em>. Boca Raton: Chapman and Hall.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='Spending_Function_Overview.html'>Spending_Function_Overview</a>, <code><a href='gsDesign.html'>gsDesign</a></code>,
<a href='gsDesign-package-overview.html'>gsDesign package overview</a></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>ggplot2</span>)
<span class='co'># design a 4-analysis trial using a Hwang-Shih-DeCani spending function</span>
<span class='co'># for both lower and upper bounds</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='gsDesign.html'>gsDesign</a></span>(<span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>4</span>, <span class='kw'>sfu</span> <span class='kw'>=</span> <span class='no'>sfHSD</span>, <span class='kw'>sfupar</span> <span class='kw'>=</span> -<span class='fl'>2</span>, <span class='kw'>sfl</span> <span class='kw'>=</span> <span class='no'>sfHSD</span>, <span class='kw'>sflpar</span> <span class='kw'>=</span> <span class='fl'>1</span>)

<span class='co'># print the design</span>
<span class='no'>x</span></div><div class='output co'>#&gt; Asymmetric two-sided group sequential design with
#&gt; 90 % power and 2.5 % Type I Error.
#&gt; Upper bound spending computations assume
#&gt; trial continues if lower bound is crossed.
#&gt; 
#&gt;            Sample
#&gt;             Size   ----Lower bounds----  ----Upper bounds-----
#&gt;   Analysis Ratio*  Z   Nominal p Spend+  Z   Nominal p Spend++
#&gt;          1  0.324 0.03    0.5136 0.0350 2.80    0.0025  0.0025
#&gt;          2  0.649 0.88    0.8096 0.0273 2.58    0.0049  0.0042
#&gt;          3  0.973 1.51    0.9349 0.0212 2.34    0.0096  0.0069
#&gt;          4  1.297 2.09    0.9817 0.0165 2.09    0.0183  0.0114
#&gt;      Total                       0.1000                 0.0250 
#&gt; + lower bound beta spending (under H1):
#&gt;  Hwang-Shih-DeCani spending function with gamma = 1.
#&gt; ++ alpha spending:
#&gt;  Hwang-Shih-DeCani spending function with gamma = -2.
#&gt; * Sample size ratio compared to fixed design with no interim
#&gt; 
#&gt; Boundary crossing probabilities and expected sample size
#&gt; assume any cross stops the trial
#&gt; 
#&gt; Upper boundary (power or Type I Error)
#&gt;           Analysis
#&gt;    Theta      1      2      3      4  Total   E{N}
#&gt;   0.0000 0.0025 0.0042 0.0065 0.0072 0.0203 0.5477
#&gt;   3.2415 0.1695 0.3553 0.2774 0.0978 0.9000 0.7533
#&gt; 
#&gt; Lower boundary (futility or Type II Error)
#&gt;           Analysis
#&gt;    Theta      1      2      3      4  Total
#&gt;   0.0000 0.5136 0.3156 0.1169 0.0336 0.9797
#&gt;   3.2415 0.0350 0.0273 0.0212 0.0165 0.1000</div><div class='input'>
<span class='co'># since sfHSD is the default for both sfu and sfl,</span>
<span class='co'># this could have been written as</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='gsDesign.html'>gsDesign</a></span>(<span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>4</span>, <span class='kw'>sfupar</span> <span class='kw'>=</span> -<span class='fl'>2</span>, <span class='kw'>sflpar</span> <span class='kw'>=</span> <span class='fl'>1</span>)

<span class='co'># print again</span>
<span class='no'>x</span></div><div class='output co'>#&gt; Asymmetric two-sided group sequential design with
#&gt; 90 % power and 2.5 % Type I Error.
#&gt; Upper bound spending computations assume
#&gt; trial continues if lower bound is crossed.
#&gt; 
#&gt;            Sample
#&gt;             Size   ----Lower bounds----  ----Upper bounds-----
#&gt;   Analysis Ratio*  Z   Nominal p Spend+  Z   Nominal p Spend++
#&gt;          1  0.324 0.03    0.5136 0.0350 2.80    0.0025  0.0025
#&gt;          2  0.649 0.88    0.8096 0.0273 2.58    0.0049  0.0042
#&gt;          3  0.973 1.51    0.9349 0.0212 2.34    0.0096  0.0069
#&gt;          4  1.297 2.09    0.9817 0.0165 2.09    0.0183  0.0114
#&gt;      Total                       0.1000                 0.0250 
#&gt; + lower bound beta spending (under H1):
#&gt;  Hwang-Shih-DeCani spending function with gamma = 1.
#&gt; ++ alpha spending:
#&gt;  Hwang-Shih-DeCani spending function with gamma = -2.
#&gt; * Sample size ratio compared to fixed design with no interim
#&gt; 
#&gt; Boundary crossing probabilities and expected sample size
#&gt; assume any cross stops the trial
#&gt; 
#&gt; Upper boundary (power or Type I Error)
#&gt;           Analysis
#&gt;    Theta      1      2      3      4  Total   E{N}
#&gt;   0.0000 0.0025 0.0042 0.0065 0.0072 0.0203 0.5477
#&gt;   3.2415 0.1695 0.3553 0.2774 0.0978 0.9000 0.7533
#&gt; 
#&gt; Lower boundary (futility or Type II Error)
#&gt;           Analysis
#&gt;    Theta      1      2      3      4  Total
#&gt;   0.0000 0.5136 0.3156 0.1169 0.0336 0.9797
#&gt;   3.2415 0.0350 0.0273 0.0212 0.0165 0.1000</div><div class='input'>
<span class='co'># plot the spending function using many points to obtain a smooth curve</span>
<span class='co'># show default values of gamma to see how the spending function changes</span>
<span class='co'># also show gamma=1 which is supposed to approximate a Pocock design</span>
<span class='no'>t</span> <span class='kw'>&lt;-</span> <span class='fl'>0</span>:<span class='fl'>100</span> / <span class='fl'>100</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='no'>t</span>, <span class='fu'>sfHSD</span>(<span class='fl'>0.025</span>, <span class='no'>t</span>, -<span class='fl'>4</span>)$<span class='no'>spend</span>,
  <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='st'>"Proportion of final sample size"</span>,
  <span class='kw'>ylab</span> <span class='kw'>=</span> <span class='st'>"Cumulative Type I error spending"</span>,
  <span class='kw'>main</span> <span class='kw'>=</span> <span class='st'>"Hwang-Shih-DeCani Spending Function Example"</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"l"</span>
)</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/lines.html'>lines</a></span>(<span class='no'>t</span>, <span class='fu'>sfHSD</span>(<span class='fl'>0.025</span>, <span class='no'>t</span>, -<span class='fl'>2</span>)$<span class='no'>spend</span>, <span class='kw'>lty</span> <span class='kw'>=</span> <span class='fl'>2</span>)</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/lines.html'>lines</a></span>(<span class='no'>t</span>, <span class='fu'>sfHSD</span>(<span class='fl'>0.025</span>, <span class='no'>t</span>, <span class='fl'>1</span>)$<span class='no'>spend</span>, <span class='kw'>lty</span> <span class='kw'>=</span> <span class='fl'>3</span>)</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/legend.html'>legend</a></span>(
  <span class='kw'>x</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>.0</span>, <span class='fl'>.375</span>), <span class='kw'>y</span> <span class='kw'>=</span> <span class='fl'>.025</span> * <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>.8</span>, <span class='fl'>1</span>), <span class='kw'>lty</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>3</span>,
  <span class='kw'>legend</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"gamma= -4"</span>, <span class='st'>"gamma= -2"</span>, <span class='st'>"gamma= 1"</span>)
)</div><div class='img'><img src='sfHSD-1.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Keaven Anderson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


