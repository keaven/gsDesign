<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Expected number of events for a time-to-event study — eEvents • gsDesign</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Expected number of events for a time-to-event study — eEvents" />
<meta property="og:description" content="eEvents() is used to calculate the expected number of events for a
population with a time-to-event endpoint.  It is based on calculations
demonstrated in Lachin and Foulkes (1986) and is fundamental in computations
for the sample size method they propose. Piecewise exponential survival and
dropout rates are supported as well as piecewise uniform enrollment. A
stratified population is allowed. Output is the expected number of events
observed given a trial duration and the above rate parameters.
eEvents() produces an object of class eEvents with the number
of subjects and events for a set of pre-specified trial parameters, such as
accrual duration and follow-up period. The underlying power calculation is
based on Lachin and Foulkes (1986) method for proportional hazards assuming
a fixed underlying hazard ratio between 2 treatment groups. The method has
been extended here to enable designs to test non-inferiority. Piecewise
constant enrollment and failure rates are assumed and a stratified
population is allowed. See also nSurvival for other Lachin and
Foulkes (1986) methods assuming a constant hazard difference or exponential
enrollment rate.
print.eEvents() formats the output for an object of class
eEvents and returns the input value." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gsDesign</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.1.0.9006</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Expected number of events for a time-to-event study</h1>
    
    <div class="hidden name"><code>eEvents.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>eEvents()</code> is used to calculate the expected number of events for a
population with a time-to-event endpoint.  It is based on calculations
demonstrated in Lachin and Foulkes (1986) and is fundamental in computations
for the sample size method they propose. Piecewise exponential survival and
dropout rates are supported as well as piecewise uniform enrollment. A
stratified population is allowed. Output is the expected number of events
observed given a trial duration and the above rate parameters.</p>
<p><code>eEvents()</code> produces an object of class <code>eEvents</code> with the number
of subjects and events for a set of pre-specified trial parameters, such as
accrual duration and follow-up period. The underlying power calculation is
based on Lachin and Foulkes (1986) method for proportional hazards assuming
a fixed underlying hazard ratio between 2 treatment groups. The method has
been extended here to enable designs to test non-inferiority. Piecewise
constant enrollment and failure rates are assumed and a stratified
population is allowed. See also <code><a href='nSurvival.html'>nSurvival</a></code> for other Lachin and
Foulkes (1986) methods assuming a constant hazard difference or exponential
enrollment rate.</p>
<p><code>print.eEvents()</code> formats the output for an object of class
<code>eEvents</code> and returns the input value.</p>
    </div>

    <pre class="usage"><span class='fu'>eEvents</span>(
  <span class='kw'>lambda</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>eta</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>gamma</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>R</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>S</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>T</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>Tfinal</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>minfup</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>digits</span> <span class='kw'>=</span> <span class='fl'>4</span>
)

<span class='co'># S3 method for eEvents</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='no'>x</span>, <span class='kw'>digits</span> <span class='kw'>=</span> <span class='fl'>4</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>lambda</th>
      <td><p>scalar, vector or matrix of event hazard rates; rows represent
time periods while columns represent strata; a vector implies a single
stratum.</p></td>
    </tr>
    <tr>
      <th>eta</th>
      <td><p>scalar, vector or matrix of dropout hazard rates; rows represent
time periods while columns represent strata; if entered as a scalar, rate is
constant accross strata and time periods; if entered as a vector, rates are
constant accross strata.</p></td>
    </tr>
    <tr>
      <th>gamma</th>
      <td><p>a scalar, vector or matrix of rates of entry by time period
(rows) and strata (columns); if entered as a scalar, rate is constant
accross strata and time periods; if entered as a vector, rates are constant
accross strata.</p></td>
    </tr>
    <tr>
      <th>R</th>
      <td><p>a scalar or vector of durations of time periods for recruitment
rates specified in rows of <code>gamma</code>. Length is the same as number of
rows in <code>gamma</code>. Note that the final enrollment period is extended as
long as needed.</p></td>
    </tr>
    <tr>
      <th>S</th>
      <td><p>a scalar or vector of durations of piecewise constant event rates
specified in rows of <code>lambda</code>, <code>eta</code> and <code>etaE</code>; this is NULL
if there is a single event rate per stratum (exponential failure) or length
of the number of rows in <code>lambda</code> minus 1, otherwise.</p></td>
    </tr>
    <tr>
      <th>T</th>
      <td><p>time of analysis; if <code>Tfinal=NULL</code>, this is also the study
duration.</p></td>
    </tr>
    <tr>
      <th>Tfinal</th>
      <td><p>Study duration; if <code>NULL</code>, this will be replaced with
<code>T</code> on output.</p></td>
    </tr>
    <tr>
      <th>minfup</th>
      <td><p>time from end of planned enrollment (<code><a href='https://rdrr.io/r/base/sum.html'>sum(R)</a></code> from output
value of <code>R</code>) until <code>Tfinal</code>.</p></td>
    </tr>
    <tr>
      <th>digits</th>
      <td><p>which controls number of digits for printing.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>an object of class <code>eEvents</code> returned from <code>eEvents()</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Other arguments that may be passed to the generic print function.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>eEvents()</code> and <code>print.eEvents()</code> return an object of
class <code>eEvents</code> which contains the following items:</p>
<dt>lambda</dt><dd><p>as
input; converted to a matrix on output.</p></dd> <dt>eta</dt><dd><p>as input; converted to a
matrix on output.</p></dd> <dt>gamma</dt><dd><p>as input.</p></dd> <dt>R</dt><dd><p>as input.</p></dd> <dt>S</dt><dd><p>as
input.</p></dd> <dt>T</dt><dd><p>as input.</p></dd> <dt>Tfinal</dt><dd><p>planned duration of study.</p></dd>
<dt>minfup</dt><dd><p>as input.</p></dd> <dt>d</dt><dd><p>expected number of events.</p></dd>
<dt>n</dt><dd><p>expected sample size.</p></dd> <dt>digits</dt><dd><p>as input.</p></dd>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Lachin JM and Foulkes MA (1986), Evaluation of Sample Size and
Power for Analyses of Survival with Allowance for Nonuniform Patient Entry,
Losses to Follow-Up, Noncompliance, and Stratification. <em>Biometrics</em>,
42, 507-519.</p>
<p>Bernstein D and Lagakos S (1978), Sample size and power determination for
stratified clinical trials. <em>Journal of Statistical Computation and
Simulation</em>, 8:65-73.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='gsDesign-package-overview.html'>gsDesign package overview</a>, <a href='plot.gsDesign.html'>plot.gsDesign</a>, 
<code><a href='gsDesign.html'>gsDesign</a></code>, <code><a href='gsBoundSummary.html'>gsHR</a></code>,
<code><a href='nSurvival.html'>nSurvival</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># 3 enrollment periods, 3 piecewise exponential failure rates</span>
<span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='fu'>eEvents</span>(
  <span class='kw'>lambda</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>.05</span>, <span class='fl'>.02</span>, <span class='fl'>.01</span>), <span class='kw'>eta</span> <span class='kw'>=</span> <span class='fl'>.01</span>, <span class='kw'>gamma</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>5</span>, <span class='fl'>10</span>, <span class='fl'>20</span>),
  <span class='kw'>R</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>2</span>, <span class='fl'>1</span>, <span class='fl'>2</span>), <span class='kw'>S</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>1</span>), <span class='kw'>T</span> <span class='kw'>=</span> <span class='fl'>20</span>
))</div><div class='output co'>#&gt; List of 11
#&gt;  $ lambda: num [1:3, 1] 0.05 0.02 0.01
#&gt;   ..- attr(*, "dimnames")=List of 2
#&gt;   .. ..$ : chr [1:3] "0-1" "1-2" "2-20"
#&gt;   .. ..$ : chr "Stratum 1"
#&gt;  $ eta   : num [1:3, 1] 0.01 0.01 0.01
#&gt;   ..- attr(*, "dimnames")=List of 2
#&gt;   .. ..$ : chr [1:3] "0-1" "1-2" "2-20"
#&gt;   .. ..$ : chr "Stratum 1"
#&gt;  $ gamma : num [1:3, 1] 5 10 20
#&gt;   ..- attr(*, "dimnames")=List of 2
#&gt;   .. ..$ : chr [1:3] "0-2" "2-3" "3-5"
#&gt;   .. ..$ : chr "Stratum 1"
#&gt;  $ R     : num [1:3] 2 1 2
#&gt;  $ S     : num [1:2] 1 1
#&gt;  $ T     : num 20
#&gt;  $ Tfinal: num 20
#&gt;  $ minfup: num 0
#&gt;  $ d     : num 11
#&gt;  $ n     : num 60
#&gt;  $ digits: num 4
#&gt;  - attr(*, "class")= chr "eEvents"</div><div class='input'>
<span class='co'># control group for example from Berstein and Lagakos (1978)</span>
<span class='no'>lamC</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>.8</span>, <span class='fl'>.5</span>)
<span class='no'>n</span> <span class='kw'>&lt;-</span> <span class='fu'>eEvents</span>(
  <span class='kw'>lambda</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='no'>lamC</span>, <span class='no'>lamC</span> * <span class='fl'>2</span> / <span class='fl'>3</span>), <span class='kw'>ncol</span> <span class='kw'>=</span> <span class='fl'>6</span>), <span class='kw'>eta</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>gamma</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fl'>.5</span>, <span class='kw'>ncol</span> <span class='kw'>=</span> <span class='fl'>6</span>), <span class='kw'>R</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>T</span> <span class='kw'>=</span> <span class='fl'>4</span>
)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Keaven Anderson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


